{"ast":null,"code":"var _jsxFileName = \"/Users/nicolas/Documents/Travail/Web Developper/3W Academy/Projet/site/lecaille-front/src/components/shopOpinionPopUp.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { connect } from \"react-redux\";\nimport { saveUser } from \"../api/user\";\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Button } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport { config } from \"../config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ShopOpinionPopUp = props => {\n  _s();\n\n  //Définition des variables\n  const [opinion, setOpinion] = useState(\"\");\n  const [selectedFile, setSelectedFile] = useState(\"\");\n  const [filePreview, setFilePreview] = useState(\"\");\n  const [defaultPict, setDefaultPict] = useState(\"no-pict.png\");\n  const [firstName, setFirstName] = useState(\"\");\n  const [firstNameError, setFirstNameError] = useState(false);\n  const [firstNameErrorText, setFirstNameErrorText] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [lastNameError, setLastNameError] = useState(false);\n  const [lastNameErrorText, setLastNameErrorText] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [emailError, setEmailError] = useState(\"\");\n  const [emailErrorText, setEmailErrorText] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordError, setPasswordError] = useState(false);\n  const [passwordErrorText, setPasswordErrorText] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [phoneError, setPhoneError] = useState(false);\n  const [phoneErrorText, setPhoneErrorText] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [zip, setZip] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n\n  const globalVerify = () => {\n    if (!firstName) {\n      setFirstNameError(true);\n      setFirstNameErrorText(\"Prénom non renseigné\");\n    } else {\n      setFirstNameError(false);\n      setFirstNameErrorText(\"\");\n    }\n\n    if (!lastName) {\n      setLastNameError(true);\n      setLastNameErrorText(\"Nom non renseigné\");\n    } else {\n      setLastNameError(false);\n      setLastNameErrorText(\"\");\n    }\n\n    if (!email) {\n      setEmailError(true);\n      setEmailErrorText(\"Adresse email non renseignée\");\n    } else {\n      if (!email.match(config.emailRegEx)) {\n        setEmailError(true);\n        setEmailErrorText(\"Format d'email non valide\");\n      } else {\n        setEmailError(false);\n        setEmailErrorText(\"\");\n      }\n    }\n\n    if (!password) {\n      setPasswordError(true);\n      setPasswordErrorText(\"Mot de passe non renseigné\");\n    } else {\n      setPasswordError(false);\n      setPasswordErrorText(\"\");\n    }\n\n    if (!phone) {\n      setPhoneError(true);\n      setPhoneErrorText(\"N° de téléphone non renseigné\");\n    } else {\n      if (!phone.match(phoneRegEx)) {\n        setPhoneError(true);\n        setPhoneErrorText(\"N° de téléphone incorrect\");\n      } else {\n        setPhoneError(false);\n        setPhoneErrorText(\"\");\n      }\n    } //Si tous les champs sont bons, on enregistre l'utilisateur\n\n\n    if (firstName && lastName && email && password && phone && phone.match(phoneRegEx) && email.match(config.emailRegEx)) {\n      let datas = {\n        firstName: firstName,\n        lastName: lastName,\n        email: email,\n        password: password,\n        phone: phone,\n        address: address,\n        zip: zip,\n        city: city\n      };\n      saveUser(datas).then(response => {\n        if (response.data.status === 401) {\n          setEmailErrorText(\"Utilisateur existant\");\n          setEmailError(true);\n        } else {\n          props.closeShopOpinionPopUp();\n        }\n      });\n    }\n  };\n\n  const onSubmit = () => {\n    globalVerify();\n  };\n\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: props.opened,\n    onClose: e => {\n      props.closeShopOpinionPopUp();\n    },\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: \"Avis\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(FormControl, {\n          error: true,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Nom\",\n            color: \"primary\",\n            className: \"register-form-input\",\n            required: true,\n            onChange: e => {\n              setLastName(e.target.value);\n            },\n            error: lastNameError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n            children: lastNameErrorText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          error: true,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Nom\",\n            color: \"primary\",\n            className: \"register-form-input\",\n            required: true,\n            onChange: e => {\n              setLastName(e.target.value);\n            },\n            error: lastNameError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n            children: lastNameErrorText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          error: true,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Pr\\xE9nom\",\n            color: \"primary\",\n            className: \"register-form-input\",\n            required: true,\n            onChange: e => {\n              setFirstName(e.target.value);\n            },\n            error: firstNameError,\n            value: firstName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n            children: firstNameErrorText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          error: true,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Email\",\n            color: \"primary\",\n            className: \"register-form-input\",\n            required: true,\n            onChange: e => {\n              setEmail(e.target.value);\n            },\n            error: emailError,\n            type: \"email\",\n            value: email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n            children: emailErrorText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          error: true,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Mot de passe\",\n            color: \"primary\",\n            className: \"register-form-input\",\n            required: true,\n            onChange: e => {\n              setPassword(e.target.value);\n            },\n            error: passwordError,\n            type: \"password\",\n            value: password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n            children: passwordErrorText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          error: true,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            label: \"T\\xE9l\\xE9phone\",\n            color: \"primary\",\n            className: \"register-form-input\",\n            required: true,\n            error: phoneError,\n            type: \"tel\",\n            onChange: e => {\n              setPhone(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n            children: phoneErrorText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          error: true,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Adresse\",\n            color: \"primary\",\n            className: \"register-form-input\",\n            onChange: e => {\n              setAddress(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          error: true,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Code Postal\",\n            color: \"primary\",\n            className: \"register-form-input\",\n            onChange: e => {\n              setZip(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          error: true,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Ville\",\n            color: \"primary\",\n            className: \"register-form-input\",\n            onChange: e => {\n              setCity(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: e => {\n          props.closeShopOpinionPopUp();\n        },\n        color: \"primary\",\n        children: \"Annuler\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: e => {\n          onSubmit();\n        },\n        color: \"primary\",\n        children: \"Envoyer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ShopOpinionPopUp, \"02femROH/RtrT/F6ePvVVQaYGKw=\");\n\n_c = ShopOpinionPopUp;\n\nconst mapStateToProps = store => {\n  return {\n    user: store.user\n  };\n};\n\nconst mapDispatchToProps = {};\nexport default connect(mapStateToProps, mapDispatchToProps)(ShopOpinionPopUp);\n\nvar _c;\n\n$RefreshReg$(_c, \"ShopOpinionPopUp\");","map":{"version":3,"sources":["/Users/nicolas/Documents/Travail/Web Developper/3W Academy/Projet/site/lecaille-front/src/components/shopOpinionPopUp.js"],"names":["React","useState","connect","saveUser","Dialog","DialogActions","DialogContent","DialogTitle","Button","TextField","FormHelperText","FormControl","config","ShopOpinionPopUp","props","opinion","setOpinion","selectedFile","setSelectedFile","filePreview","setFilePreview","defaultPict","setDefaultPict","firstName","setFirstName","firstNameError","setFirstNameError","firstNameErrorText","setFirstNameErrorText","lastName","setLastName","lastNameError","setLastNameError","lastNameErrorText","setLastNameErrorText","email","setEmail","emailError","setEmailError","emailErrorText","setEmailErrorText","password","setPassword","passwordError","setPasswordError","passwordErrorText","setPasswordErrorText","phone","setPhone","phoneError","setPhoneError","phoneErrorText","setPhoneErrorText","address","setAddress","zip","setZip","city","setCity","globalVerify","match","emailRegEx","phoneRegEx","datas","then","response","data","status","closeShopOpinionPopUp","onSubmit","opened","e","target","value","mapStateToProps","store","user","mapDispatchToProps"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,QAAR,QAAuB,aAAvB;AAEA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AAEA,SAAQC,MAAR,QAAqB,WAArB;;;AAEA,MAAMC,gBAAgB,GAAIC,KAAD,IAAW;AAAA;;AAEhC;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBf,QAAQ,CAAC,EAAD,CAAtC;AAEA,QAAM,CAACgB,YAAD,EAAeC,eAAf,IAAkCjB,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACkB,WAAD,EAAcC,cAAd,IAAgCnB,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACoB,WAAD,EAAcC,cAAd,IAAgCrB,QAAQ,CAAC,aAAD,CAA9C;AAIA,QAAM,CAACsB,SAAD,EAAYC,YAAZ,IAA4BvB,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACwB,cAAD,EAAiBC,iBAAjB,IAAsCzB,QAAQ,CAAC,KAAD,CAApD;AACA,QAAM,CAAC0B,kBAAD,EAAqBC,qBAArB,IAA8C3B,QAAQ,CAAC,EAAD,CAA5D;AAEA,QAAM,CAAC4B,QAAD,EAAWC,WAAX,IAA0B7B,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAAC8B,aAAD,EAAgBC,gBAAhB,IAAoC/B,QAAQ,CAAC,KAAD,CAAlD;AACA,QAAM,CAACgC,iBAAD,EAAoBC,oBAApB,IAA4CjC,QAAQ,CAAC,EAAD,CAA1D;AAEA,QAAM,CAACkC,KAAD,EAAQC,QAAR,IAAoBnC,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACoC,UAAD,EAAaC,aAAb,IAA8BrC,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACsC,cAAD,EAAiBC,iBAAjB,IAAsCvC,QAAQ,CAAC,EAAD,CAApD;AAEA,QAAM,CAACwC,QAAD,EAAWC,WAAX,IAA0BzC,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAAC0C,aAAD,EAAgBC,gBAAhB,IAAoC3C,QAAQ,CAAC,KAAD,CAAlD;AACA,QAAM,CAAC4C,iBAAD,EAAoBC,oBAApB,IAA4C7C,QAAQ,CAAC,EAAD,CAA1D;AAEA,QAAM,CAAC8C,KAAD,EAAQC,QAAR,IAAoB/C,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACgD,UAAD,EAAaC,aAAb,IAA8BjD,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAM,CAACkD,cAAD,EAAiBC,iBAAjB,IAAsCnD,QAAQ,CAAC,EAAD,CAApD;AAEA,QAAM,CAACoD,OAAD,EAAUC,UAAV,IAAwBrD,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACsD,GAAD,EAAMC,MAAN,IAAgBvD,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM,CAACwD,IAAD,EAAOC,OAAP,IAAkBzD,QAAQ,CAAC,EAAD,CAAhC;;AAEA,QAAM0D,YAAY,GAAG,MAAM;AAEnB,QAAG,CAACpC,SAAJ,EAAc;AACVG,MAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACAE,MAAAA,qBAAqB,CAAC,sBAAD,CAArB;AACH,KAHD,MAIK;AACDF,MAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACAE,MAAAA,qBAAqB,CAAC,EAAD,CAArB;AACH;;AAED,QAAG,CAACC,QAAJ,EAAa;AACTG,MAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACAE,MAAAA,oBAAoB,CAAC,mBAAD,CAApB;AACH,KAHD,MAIK;AACDF,MAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAE,MAAAA,oBAAoB,CAAC,EAAD,CAApB;AACH;;AACD,QAAG,CAACC,KAAJ,EAAU;AACNG,MAAAA,aAAa,CAAC,IAAD,CAAb;AACAE,MAAAA,iBAAiB,CAAC,8BAAD,CAAjB;AACH,KAHD,MAIK;AACD,UAAG,CAACL,KAAK,CAACyB,KAAN,CAAYhD,MAAM,CAACiD,UAAnB,CAAJ,EAAmC;AAC/BvB,QAAAA,aAAa,CAAC,IAAD,CAAb;AACAE,QAAAA,iBAAiB,CAAC,2BAAD,CAAjB;AACH,OAHD,MAIK;AACDF,QAAAA,aAAa,CAAC,KAAD,CAAb;AACAE,QAAAA,iBAAiB,CAAC,EAAD,CAAjB;AACH;AACJ;;AACD,QAAG,CAACC,QAAJ,EAAa;AACTG,MAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACAE,MAAAA,oBAAoB,CAAC,4BAAD,CAApB;AACH,KAHD,MAIK;AACDF,MAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAE,MAAAA,oBAAoB,CAAC,EAAD,CAApB;AACH;;AACD,QAAG,CAACC,KAAJ,EAAU;AACNG,MAAAA,aAAa,CAAC,IAAD,CAAb;AACAE,MAAAA,iBAAiB,CAAC,+BAAD,CAAjB;AACH,KAHD,MAII;AACA,UAAG,CAACL,KAAK,CAACa,KAAN,CAAYE,UAAZ,CAAJ,EAA4B;AACxBZ,QAAAA,aAAa,CAAC,IAAD,CAAb;AACAE,QAAAA,iBAAiB,CAAC,2BAAD,CAAjB;AACH,OAHD,MAIK;AACDF,QAAAA,aAAa,CAAC,KAAD,CAAb;AACAE,QAAAA,iBAAiB,CAAC,EAAD,CAAjB;AACH;AACJ,KAtDkB,CAwDnB;;;AACA,QAAG7B,SAAS,IAAIM,QAAb,IAAyBM,KAAzB,IAAkCM,QAAlC,IAA8CM,KAA9C,IAAuDA,KAAK,CAACa,KAAN,CAAYE,UAAZ,CAAvD,IAAkF3B,KAAK,CAACyB,KAAN,CAAYhD,MAAM,CAACiD,UAAnB,CAArF,EAAoH;AAEhH,UAAIE,KAAK,GAAG;AACRxC,QAAAA,SAAS,EAAEA,SADH;AAERM,QAAAA,QAAQ,EAAEA,QAFF;AAGRM,QAAAA,KAAK,EAAEA,KAHC;AAIRM,QAAAA,QAAQ,EAAEA,QAJF;AAKRM,QAAAA,KAAK,EAAEA,KALC;AAMRM,QAAAA,OAAO,EAAEA,OAND;AAORE,QAAAA,GAAG,EAAEA,GAPG;AAQRE,QAAAA,IAAI,EAAEA;AARE,OAAZ;AAWAtD,MAAAA,QAAQ,CAAC4D,KAAD,CAAR,CACCC,IADD,CACMC,QAAQ,IAAI;AACd,YAAGA,QAAQ,CAACC,IAAT,CAAcC,MAAd,KAAyB,GAA5B,EAAgC;AAC5B3B,UAAAA,iBAAiB,CAAC,sBAAD,CAAjB;AACAF,UAAAA,aAAa,CAAC,IAAD,CAAb;AACH,SAHD,MAII;AACAxB,UAAAA,KAAK,CAACsD,qBAAN;AACH;AACJ,OATD;AAWH;AAER,GAnFD;;AAqFA,QAAMC,QAAQ,GAAG,MAAK;AAClBV,IAAAA,YAAY;AAEf,GAHD;;AAKA,sBACI,QAAC,MAAD;AACI,IAAA,IAAI,EAAE7C,KAAK,CAACwD,MADhB;AAEI,IAAA,OAAO,EAAGC,CAAD,IAAO;AAACzD,MAAAA,KAAK,CAACsD,qBAAN;AAA8B,KAFnD;AAAA,4BAII,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ,eAKI,QAAC,aAAD;AAAA,6BACA;AAAA,gCACA,QAAC,WAAD;AAAa,UAAA,KAAK,MAAlB;AAAA,kCACQ,QAAC,SAAD;AAAW,YAAA,KAAK,EAAC,KAAjB;AAAuB,YAAA,KAAK,EAAC,SAA7B;AAAuC,YAAA,SAAS,EAAC,qBAAjD;AAAuE,YAAA,QAAQ,MAA/E;AAAgF,YAAA,QAAQ,EAAGG,CAAD,IAAO;AAACzC,cAAAA,WAAW,CAACyC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;AAA4B,aAA9H;AAAgI,YAAA,KAAK,EAAE1C;AAAvI;AAAA;AAAA;AAAA;AAAA,kBADR,eAEQ,QAAC,cAAD;AAAA,sBAAiBE;AAAjB;AAAA;AAAA;AAAA;AAAA,kBAFR;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,eAKI,QAAC,WAAD;AAAa,UAAA,KAAK,MAAlB;AAAA,kCACI,QAAC,SAAD;AAAW,YAAA,KAAK,EAAC,KAAjB;AAAuB,YAAA,KAAK,EAAC,SAA7B;AAAuC,YAAA,SAAS,EAAC,qBAAjD;AAAuE,YAAA,QAAQ,MAA/E;AAAgF,YAAA,QAAQ,EAAGsC,CAAD,IAAO;AAACzC,cAAAA,WAAW,CAACyC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;AAA4B,aAA9H;AAAgI,YAAA,KAAK,EAAE1C;AAAvI;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,cAAD;AAAA,sBAAiBE;AAAjB;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBALJ,eAUI,QAAC,WAAD;AAAa,UAAA,KAAK,MAAlB;AAAA,kCACI,QAAC,SAAD;AAAW,YAAA,KAAK,EAAC,WAAjB;AAA0B,YAAA,KAAK,EAAC,SAAhC;AAA0C,YAAA,SAAS,EAAC,qBAApD;AAA0E,YAAA,QAAQ,MAAlF;AAAmF,YAAA,QAAQ,EAAGsC,CAAD,IAAO;AAAC/C,cAAAA,YAAY,CAAC+C,CAAC,CAACC,MAAF,CAASC,KAAV,CAAZ;AAA6B,aAAlI;AAAoI,YAAA,KAAK,EAAEhD,cAA3I;AAA2J,YAAA,KAAK,EAAEF;AAAlK;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,cAAD;AAAA,sBAAiBI;AAAjB;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVJ,eAeI,QAAC,WAAD;AAAa,UAAA,KAAK,MAAlB;AAAA,kCACI,QAAC,SAAD;AAAW,YAAA,KAAK,EAAC,OAAjB;AAAyB,YAAA,KAAK,EAAC,SAA/B;AAAyC,YAAA,SAAS,EAAC,qBAAnD;AAAyE,YAAA,QAAQ,MAAjF;AAAkF,YAAA,QAAQ,EAAG4C,CAAD,IAAO;AAACnC,cAAAA,QAAQ,CAACmC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR;AAAyB,aAA7H;AAA+H,YAAA,KAAK,EAAEpC,UAAtI;AAAkJ,YAAA,IAAI,EAAC,OAAvJ;AAA+J,YAAA,KAAK,EAAEF;AAAtK;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,cAAD;AAAA,sBAAiBI;AAAjB;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAfJ,eAoBI,QAAC,WAAD;AAAa,UAAA,KAAK,MAAlB;AAAA,kCACI,QAAC,SAAD;AAAW,YAAA,KAAK,EAAC,cAAjB;AAAgC,YAAA,KAAK,EAAC,SAAtC;AAAgD,YAAA,SAAS,EAAC,qBAA1D;AAAgF,YAAA,QAAQ,MAAxF;AAAyF,YAAA,QAAQ,EAAGgC,CAAD,IAAO;AAAC7B,cAAAA,WAAW,CAAC6B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;AAA4B,aAAvI;AAAyI,YAAA,KAAK,EAAE9B,aAAhJ;AAA+J,YAAA,IAAI,EAAC,UAApK;AAA+K,YAAA,KAAK,EAAEF;AAAtL;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,cAAD;AAAA,sBAAiBI;AAAjB;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBApBJ,eAyBI,QAAC,WAAD;AAAa,UAAA,KAAK,MAAlB;AAAA,kCACI,QAAC,SAAD;AAAW,YAAA,KAAK,EAAC,iBAAjB;AAA6B,YAAA,KAAK,EAAC,SAAnC;AAA6C,YAAA,SAAS,EAAC,qBAAvD;AAA6E,YAAA,QAAQ,MAArF;AAAuF,YAAA,KAAK,EAAEI,UAA9F;AAA0G,YAAA,IAAI,EAAC,KAA/G;AAAsH,YAAA,QAAQ,EAAGsB,CAAD,IAAO;AAACvB,cAAAA,QAAQ,CAACuB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR;AAAyB;AAAjK;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,cAAD;AAAA,sBAAiBtB;AAAjB;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAzBJ,eA8BI,QAAC,WAAD;AAAa,UAAA,KAAK,MAAlB;AAAA,iCACI,QAAC,SAAD;AAAW,YAAA,KAAK,EAAC,SAAjB;AAA2B,YAAA,KAAK,EAAC,SAAjC;AAA2C,YAAA,SAAS,EAAC,qBAArD;AAA2E,YAAA,QAAQ,EAAGoB,CAAD,IAAO;AAACjB,cAAAA,UAAU,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV;AAA2B;AAAxH;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBA9BJ,eAkCI,QAAC,WAAD;AAAa,UAAA,KAAK,MAAlB;AAAA,iCACI,QAAC,SAAD;AAAW,YAAA,KAAK,EAAC,aAAjB;AAA+B,YAAA,KAAK,EAAC,SAArC;AAA+C,YAAA,SAAS,EAAC,qBAAzD;AAA+E,YAAA,QAAQ,EAAGF,CAAD,IAAO;AAACf,cAAAA,MAAM,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAN;AAAuB;AAAxH;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAlCJ,eAsCI,QAAC,WAAD;AAAa,UAAA,KAAK,MAAlB;AAAA,iCACI,QAAC,SAAD;AAAW,YAAA,KAAK,EAAC,OAAjB;AAAyB,YAAA,KAAK,EAAC,SAA/B;AAAyC,YAAA,SAAS,EAAC,qBAAnD;AAAyE,YAAA,QAAQ,EAAGF,CAAD,IAAO;AAACb,cAAAA,OAAO,CAACa,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP;AAAwB;AAAnH;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAtCJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,YALJ,eAiDI,QAAC,aAAD;AAAA,8BACA,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAGF,CAAD,IAAO;AAACzD,UAAAA,KAAK,CAACsD,qBAAN;AAA8B,SAAvD;AAAyD,QAAA,KAAK,EAAC,SAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,eAIA,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAGG,CAAD,IAAO;AAACF,UAAAA,QAAQ;AAAG,SAApC;AAAsC,QAAA,KAAK,EAAC,SAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJA;AAAA;AAAA;AAAA;AAAA;AAAA,YAjDJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA4DH,CAzLD;;GAAMxD,gB;;KAAAA,gB;;AA2LN,MAAM6D,eAAe,GAAIC,KAAD,IAAW;AAC/B,SAAO;AACHC,IAAAA,IAAI,EAAED,KAAK,CAACC;AADT,GAAP;AAGH,CAJD;;AAMA,MAAMC,kBAAkB,GAAG,EAA3B;AAIA,eAAe3E,OAAO,CAACwE,eAAD,EAAkBG,kBAAlB,CAAP,CAA6ChE,gBAA7C,CAAf","sourcesContent":["import React, {useState} from 'react'\nimport {connect} from \"react-redux\"\nimport {saveUser} from \"../api/user\"\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Button } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\n\nimport {config} from \"../config\"\n\nconst ShopOpinionPopUp = (props) => {\n\n    //Définition des variables\n    const [opinion, setOpinion] = useState(\"\")\n\n    const [selectedFile, setSelectedFile] = useState(\"\")\n    const [filePreview, setFilePreview] = useState(\"\")\n    const [defaultPict, setDefaultPict] = useState(\"no-pict.png\")\n\n\n\n    const [firstName, setFirstName] = useState(\"\")\n    const [firstNameError, setFirstNameError] = useState(false)\n    const [firstNameErrorText, setFirstNameErrorText] = useState(\"\")\n\n    const [lastName, setLastName] = useState(\"\")\n    const [lastNameError, setLastNameError] = useState(false)\n    const [lastNameErrorText, setLastNameErrorText] = useState(\"\")\n\n    const [email, setEmail] = useState(\"\")\n    const [emailError, setEmailError] = useState(\"\")\n    const [emailErrorText, setEmailErrorText] = useState(\"\")\n\n    const [password, setPassword] = useState(\"\")\n    const [passwordError, setPasswordError] = useState(false)\n    const [passwordErrorText, setPasswordErrorText] = useState(\"\")\n\n    const [phone, setPhone] = useState(\"\")\n    const [phoneError, setPhoneError] = useState(false)\n    const [phoneErrorText, setPhoneErrorText] = useState(\"\")\n\n    const [address, setAddress] = useState(\"\")\n    const [zip, setZip] = useState(\"\")\n    const [city, setCity] = useState(\"\")\n\n    const globalVerify = () => {\n\n            if(!firstName){\n                setFirstNameError(true)\n                setFirstNameErrorText(\"Prénom non renseigné\")\n            }\n            else {\n                setFirstNameError(false)\n                setFirstNameErrorText(\"\")\n            }\n\n            if(!lastName){\n                setLastNameError(true)\n                setLastNameErrorText(\"Nom non renseigné\")\n            }\n            else {\n                setLastNameError(false)\n                setLastNameErrorText(\"\")\n            }\n            if(!email){\n                setEmailError(true)\n                setEmailErrorText(\"Adresse email non renseignée\")\n            }\n            else {\n                if(!email.match(config.emailRegEx)){\n                    setEmailError(true)\n                    setEmailErrorText(\"Format d'email non valide\")\n                }\n                else {\n                    setEmailError(false)\n                    setEmailErrorText(\"\")\n                }\n            }\n            if(!password){\n                setPasswordError(true)\n                setPasswordErrorText(\"Mot de passe non renseigné\")\n            }\n            else {\n                setPasswordError(false)\n                setPasswordErrorText(\"\")\n            }\n            if(!phone){\n                setPhoneError(true)\n                setPhoneErrorText(\"N° de téléphone non renseigné\")\n            }\n            else{\n                if(!phone.match(phoneRegEx)){\n                    setPhoneError(true)\n                    setPhoneErrorText(\"N° de téléphone incorrect\")\n                }\n                else {\n                    setPhoneError(false)\n                    setPhoneErrorText(\"\")\n                }\n            }\n\n            //Si tous les champs sont bons, on enregistre l'utilisateur\n            if(firstName && lastName && email && password && phone && phone.match(phoneRegEx) && email.match(config.emailRegEx)){\n                \n                let datas = {\n                    firstName: firstName,\n                    lastName: lastName,\n                    email: email,\n                    password: password,\n                    phone: phone,\n                    address: address,\n                    zip: zip,\n                    city: city\n                }    \n                \n                saveUser(datas)\n                .then(response => {\n                    if(response.data.status === 401){\n                        setEmailErrorText(\"Utilisateur existant\")\n                        setEmailError(true)\n                    }\n                    else{\n                        props.closeShopOpinionPopUp()\n                    }\n                })\n                \n            }\n            \n    }\n\n    const onSubmit = () =>{\n        globalVerify()\n       \n    }\n\n    return(\n        <Dialog\n            open={props.opened}\n            onClose={(e) => {props.closeShopOpinionPopUp()}}\n        >\n            <DialogTitle>Avis</DialogTitle>\n            <DialogContent>\n            <form>\n            <FormControl error>\n                    <TextField label=\"Nom\" color=\"primary\" className=\"register-form-input\" required onChange={(e) => {setLastName(e.target.value)}} error={lastNameError} />\n                    <FormHelperText>{lastNameErrorText}</FormHelperText>\n                </FormControl>\n                <FormControl error>\n                    <TextField label=\"Nom\" color=\"primary\" className=\"register-form-input\" required onChange={(e) => {setLastName(e.target.value)}} error={lastNameError} />\n                    <FormHelperText>{lastNameErrorText}</FormHelperText>\n                </FormControl>\n\n                <FormControl error>\n                    <TextField label=\"Prénom\" color=\"primary\" className=\"register-form-input\" required onChange={(e) => {setFirstName(e.target.value)}} error={firstNameError} value={firstName}/>\n                    <FormHelperText>{firstNameErrorText}</FormHelperText>\n                </FormControl>\n\n                <FormControl error>\n                    <TextField label=\"Email\" color=\"primary\" className=\"register-form-input\" required onChange={(e) => {setEmail(e.target.value)}} error={emailError} type=\"email\" value={email}/>\n                    <FormHelperText>{emailErrorText}</FormHelperText>\n                </FormControl>\n\n                <FormControl error>\n                    <TextField label=\"Mot de passe\" color=\"primary\" className=\"register-form-input\" required onChange={(e) => {setPassword(e.target.value)}} error={passwordError} type=\"password\" value={password}/>\n                    <FormHelperText>{passwordErrorText}</FormHelperText>\n                </FormControl>\n\n                <FormControl error>\n                    <TextField label=\"Téléphone\" color=\"primary\" className=\"register-form-input\" required  error={phoneError} type=\"tel\"  onChange={(e) => {setPhone(e.target.value)}} />\n                    <FormHelperText>{phoneErrorText}</FormHelperText>\n                </FormControl>\n\n                <FormControl error>\n                    <TextField label=\"Adresse\" color=\"primary\" className=\"register-form-input\" onChange={(e) => {setAddress(e.target.value)}} />\n                </FormControl>\n\n                <FormControl error>\n                    <TextField label=\"Code Postal\" color=\"primary\" className=\"register-form-input\" onChange={(e) => {setZip(e.target.value)}} />\n                </FormControl>\n\n                <FormControl error>\n                    <TextField label=\"Ville\" color=\"primary\" className=\"register-form-input\" onChange={(e) => {setCity(e.target.value)}} />\n                </FormControl>\n            </form>\n            </DialogContent>\n            <DialogActions>\n            <Button onClick={(e) => {props.closeShopOpinionPopUp()}} color=\"primary\">\n                Annuler\n            </Button>\n            <Button onClick={(e) => {onSubmit()}} color=\"primary\">\n                Envoyer\n            </Button>\n            </DialogActions>\n        </Dialog>\n    )\n}\n\nconst mapStateToProps = (store) => {\n    return {\n        user: store.user\n    }\n}\n\nconst mapDispatchToProps = {\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShopOpinionPopUp)"]},"metadata":{},"sourceType":"module"}