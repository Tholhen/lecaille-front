{"ast":null,"code":"const localStorageBasketName = \"lecaille-basket\"; //Ajout d'un produit dans le panier\n\nexport const addToBasket = (product, quantity) => {\n  console.log(\"ajout du produit au panier\");\n  let newBasket = [];\n  let basket = JSON.parse(localStorage.getItem(localStorageBasketName));\n\n  if (basket) {\n    console.log(product.id);\n    let productExists = basket.find(basketProduct => basketProduct.product.id === product.id);\n    console.log(\"product already exists\", productExists);\n\n    if (productExists) {\n      let newQty = parseFloat(productExists.quantity) + parseFloat(quantity);\n      productExists.quantity = newQty;\n      newBasket.push(productExists);\n    } else newBasket.push({\n      product,\n      quantity\n    });\n  } else {\n    newBasket.push({\n      product,\n      quantity\n    });\n  }\n\n  localStorage.setItem(localStorageBasketName, JSON.stringify(newBasket));\n  console.log(JSON.parse(localStorage.getItem(localStorageBasketName)));\n}; //Edition d'un produit du panier\n\nexport const editFromBasket = (id, quantity) => {}; //Suppression d'un produit du panier\n\nexport const deleteFromBasket = id => {}; //Suppression du panier\n\nexport const clearBasket = () => {};","map":{"version":3,"sources":["/Users/nicolas/Documents/Travail/Web Developper/3W Academy/Projet/site/lecaille-front/src/utils/basket.js"],"names":["localStorageBasketName","addToBasket","product","quantity","console","log","newBasket","basket","JSON","parse","localStorage","getItem","id","productExists","find","basketProduct","newQty","parseFloat","push","setItem","stringify","editFromBasket","deleteFromBasket","clearBasket"],"mappings":"AAAA,MAAMA,sBAAsB,GAAG,iBAA/B,C,CAEA;;AACA,OAAO,MAAMC,WAAW,GAAG,CAACC,OAAD,EAAUC,QAAV,KAAwB;AAC/CC,EAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AAEA,MAAIC,SAAS,GAAI,EAAjB;AACA,MAAIC,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBX,sBAArB,CAAX,CAAb;;AAGA,MAAGO,MAAH,EAAU;AACNH,IAAAA,OAAO,CAACC,GAAR,CAAYH,OAAO,CAACU,EAApB;AACA,QAAIC,aAAa,GAAGN,MAAM,CAACO,IAAP,CAAYC,aAAa,IAAIA,aAAa,CAACb,OAAd,CAAsBU,EAAtB,KAA6BV,OAAO,CAACU,EAAlE,CAApB;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCQ,aAAtC;;AACA,QAAGA,aAAH,EAAiB;AAEb,UAAIG,MAAM,GAAGC,UAAU,CAACJ,aAAa,CAACV,QAAf,CAAV,GAAqCc,UAAU,CAACd,QAAD,CAA5D;AACAU,MAAAA,aAAa,CAACV,QAAd,GAAyBa,MAAzB;AACAV,MAAAA,SAAS,CAACY,IAAV,CAAeL,aAAf;AACH,KALD,MAOIP,SAAS,CAACY,IAAV,CAAe;AAAChB,MAAAA,OAAD;AAAUC,MAAAA;AAAV,KAAf,CADA;AAGP,GAbD,MAcK;AACDG,IAAAA,SAAS,CAACY,IAAV,CAAe;AAAChB,MAAAA,OAAD;AAAUC,MAAAA;AAAV,KAAf;AACH;;AAEDO,EAAAA,YAAY,CAACS,OAAb,CAAqBnB,sBAArB,EAA6CQ,IAAI,CAACY,SAAL,CAAed,SAAf,CAA7C;AAEAF,EAAAA,OAAO,CAACC,GAAR,CAAYG,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBX,sBAArB,CAAX,CAAZ;AACH,CA5BM,C,CA8BP;;AACA,OAAO,MAAMqB,cAAc,GAAG,CAACT,EAAD,EAAKT,QAAL,KAAkB,CAE/C,CAFM,C,CAIP;;AACA,OAAO,MAAMmB,gBAAgB,GAAIV,EAAD,IAAQ,CAEvC,CAFM,C,CAIP;;AACA,OAAO,MAAMW,WAAW,GAAG,MAAM,CAEhC,CAFM","sourcesContent":["const localStorageBasketName = \"lecaille-basket\"\n\n//Ajout d'un produit dans le panier\nexport const addToBasket = (product, quantity) =>  {\n    console.log(\"ajout du produit au panier\")\n    \n    let newBasket  = []\n    let basket = JSON.parse(localStorage.getItem(localStorageBasketName))\n\n    \n    if(basket){\n        console.log(product.id)\n        let productExists = basket.find(basketProduct => basketProduct.product.id === product.id)\n        console.log(\"product already exists\", productExists)\n        if(productExists){\n           \n            let newQty = parseFloat(productExists.quantity) + parseFloat(quantity)\n            productExists.quantity = newQty\n            newBasket.push(productExists)\n        }\n        else(\n            newBasket.push({product, quantity})\n        )\n    }\n    else {\n        newBasket.push({product, quantity})\n    }\n\n    localStorage.setItem(localStorageBasketName, JSON.stringify(newBasket))\n\n    console.log(JSON.parse(localStorage.getItem(localStorageBasketName)))\n}\n\n//Edition d'un produit du panier\nexport const editFromBasket = (id, quantity) => {\n\n}\n\n//Suppression d'un produit du panier\nexport const deleteFromBasket = (id) => {\n\n}\n\n//Suppression du panier\nexport const clearBasket = () => {\n\n}"]},"metadata":{},"sourceType":"module"}