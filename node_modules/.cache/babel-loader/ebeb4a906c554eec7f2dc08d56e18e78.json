{"ast":null,"code":"import axios from\"axios\";import{config}from\"../config/config\";import tokenConfig from\"../config/tokenConfig\";//Récupération du nombre de variétés de poissons\nexport var getFishesCount=function getFishesCount(){return axios.get(config.api_url+\"/products/allfishes/count\").then(function(response){return response.data.result[0].fishes_count;}).catch(function(err){console.log(err);});};//Récupération du nombre de variétés de crustacés\nexport var getCrustaceansCount=function getCrustaceansCount(){return axios.get(config.api_url+\"/products/allcrustaceans/count\").then(function(response){return response.data.result[0].crustaceans_count;}).catch(function(err){console.log(err);});};//Récupération d'un produit\nexport var getOneProduct=function getOneProduct(id){return axios.get(config.api_url+\"/product/\"+id,{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response.data.result[0];}).catch(function(err){console.log(err);});};//Récupération des produits en fonction des catégories choisies\nexport var getProducts=function getProducts(){var datas=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return axios.post(config.api_url+\"/products/\",datas,{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response.data.result;}).catch(function(err){console.log(err);});};//Enregistrement d'un produit\nexport var saveProduct=function saveProduct(datas){return axios.post(config.api_url+\"/product/save\",datas,{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response;}).catch(function(err){console.log(err);});};//Enregistrement de la photo d'un produit\nexport var saveProductPict=function saveProductPict(fileDatas){var formData=new FormData();formData.append('image',fileDatas);return axios({method:\"post\",url:config.api_url+\"/product/pict\",data:formData,headers:{\"Content-Type\":\"multipart/form-data\",\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response;}).catch(function(err){console.log(err);});};//Mise à jour d'un produit\nexport var updateProduct=function updateProduct(id,datas){return axios.put(config.api_url+\"/product/update/\"+id,datas,{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response;}).catch(function(err){return console.log(err);});};//Récupération de toutes les catégories de produit\nexport var getAllProductCat=function getAllProductCat(){return axios.get(config.api_url+\"/products/categories/all\",{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response.data.result;}).catch(function(err){console.log(err);});};//Suppression d'un produit\nexport var deleteProduct=function deleteProduct(id){return axios.delete(config.api_url+\"/product/delete/\"+id,{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response;}).catch(function(err){console.log(err);});};","map":{"version":3,"sources":["/Users/nicolas/Documents/Travail/Web Developper/3W Academy/Projet/site/lecaille-front/src/api/products.js"],"names":["axios","config","tokenConfig","getFishesCount","get","api_url","then","response","data","result","fishes_count","catch","err","console","log","getCrustaceansCount","crustaceans_count","getOneProduct","id","headers","localStorage","getItem","token","name","getProducts","datas","post","saveProduct","saveProductPict","fileDatas","formData","FormData","append","method","url","updateProduct","put","getAllProductCat","deleteProduct","delete"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport {config} from \"../config/config\"\nimport tokenConfig from \"../config/tokenConfig\"\n\n\n//Récupération du nombre de variétés de poissons\nexport const getFishesCount = () => {\n    \n    return axios.get(config.api_url+\"/products/allfishes/count\")\n    .then(response => {\n        return response.data.result[0].fishes_count;\n    })\n    .catch(err => { console.log(err)})\n}\n\n//Récupération du nombre de variétés de crustacés\nexport const getCrustaceansCount = () => {\n    return axios.get(config.api_url+\"/products/allcrustaceans/count\")\n    .then(response => {\n        return response.data.result[0].crustaceans_count\n    })\n    .catch(err => { console.log(err)})\n}\n\n//Récupération d'un produit\nexport const getOneProduct = (id) => {\n    return axios.get(config.api_url+\"/product/\"+id, {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then(response => {\n        return response.data.result[0]\n    })\n    .catch(err => {console.log(err)})\n}\n\n//Récupération des produits en fonction des catégories choisies\nexport const getProducts = (datas = null) => {\n    return axios.post(config.api_url + \"/products/\", datas, {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then(response => {\n        return response.data.result\n    })\n    .catch(err => {console.log(err)})\n}\n\n//Enregistrement d'un produit\nexport const saveProduct = (datas) => {\n    return axios.post(config.api_url + \"/product/save\", datas, {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then(response => {\n        return response\n    })\n    .catch(err => {console.log(err)})\n}\n\n//Enregistrement de la photo d'un produit\nexport const saveProductPict = (fileDatas) => {\n    let formData = new FormData()\n    formData.append('image', fileDatas)\n\n    return axios({method: \"post\",\n                  url: config.api_url + \"/product/pict\",\n                  data: formData,\n                  headers: {\n                      \"Content-Type\":\"multipart/form-data\",\n                      \"x-access-token\":localStorage.getItem(tokenConfig.token.name)\n                  }})\n                .then(response => {return response})\n                .catch(err => {console.log(err)})\n}\n\n//Mise à jour d'un produit\nexport const updateProduct = (id, datas) => {\n    return axios.put(config.api_url + \"/product/update/\" + id, datas, {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then(response => {\n        return response\n    })\n    .catch(err => console.log(err))\n}\n\n//Récupération de toutes les catégories de produit\nexport const getAllProductCat = () => {\n    return axios.get(config.api_url + \"/products/categories/all\", {headers: {\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}})\n    .then(response => {\n        return response.data.result\n    })\n    .catch(err => {console.log(err)})\n}\n\n//Suppression d'un produit\nexport const deleteProduct = (id) => {\n    return axios.delete(config.api_url + \"/product/delete/\"+id, {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then(response => {\n        return response\n    })\n    .catch(err => {console.log(err)})\n}"]},"metadata":{},"sourceType":"module"}