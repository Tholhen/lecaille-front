{"ast":null,"code":"import axios from \"axios\";\nimport { config } from \"../config/config\";\nimport tokenConfig from \"../config/tokenConfig\";\n/*************************/\n\n/* GESTION DES COMMANDES */\n\n/*************************/\n//Récupération de toutes les commandes\n\nexport const getAllRequests = () => {\n  return axios.get(config.api_url + \"/requests\", {\n    headers: {\n      \"x-access-token\": localStorage.getItem(tokenConfig.token.name)\n    }\n  }).then(response => {\n    return response.data.result;\n  }).catch(err => console.log(err));\n}; //Récupération des commandes d'un client\n\nexport const getAllRequestsByCustomer = id => {\n  return axios.get(config.api_url + \"/\");\n}; //Récupération d'une commande\n\nexport const getOneRequest = id => {\n  return axios.get(config.api_url + \"/request/\" + id, {\n    headers: {\n      \"x-access-token\": localStorage.getItem(tokenConfig.token.name)\n    }\n  }).then(response => {\n    return response.data.result[0];\n  }).catch(err => console.log(err));\n}; //Sauvegarde d'une commande\n\nexport const saveRequest = datas => {\n  return axios.post(config.api_url + \"/request/save\", datas, {\n    headers: {\n      \"x-access-token\": localStorage.getItem(tokenConfig.token.name)\n    }\n  }).then(response => {\n    console.log(response);\n    return response.data.result;\n  }).catch(err => console.log(err));\n}; //Suppression d'une commande\n\nexport const deleteRequest = id => {\n  return axios.delete(config.api_url + \"/request/delete/\" + id, {\n    headers: {\n      \"x-access-token\": localStorage.getItem(tokenConfig.token.name)\n    }\n  }).then(response => {\n    return response;\n  }).catch(err => console.log(err));\n}; //Mise à jour du status du paiement\n//Mise à jour du status de préparation\n\n/*************************************/\n\n/* GESTION DES DETAILS DES COMMANDES */\n\n/*************************************/\n//Récupération de toutes les lignes d'une commande\n\nexport const getAllRequestDetails = id => {\n  return axios.get(config.api_url + \"/request/\" + id + \"/details\", {\n    headers: {\n      \"x-access-token\": localStorage.getItem(tokenConfig.token.name)\n    }\n  }).then(response => {\n    return response.data.result;\n  }).catch(err => console.log(err));\n}; //Sauvegarde d'une ligne de commande\n\nexport const saveRequestDetails = (id_request, datas) => {\n  return axios.post(config.api_url + \"/request/\" + id_request + \"/details/save\", datas, {\n    headers: {\n      \"x-access-token\": localStorage.getItem(tokenConfig.token.name)\n    }\n  }).then(response => {\n    return response.data.result;\n  }).catch(err => console.log(err));\n};","map":{"version":3,"sources":["/Users/nicolas/Documents/Travail/Web Developper/3W Academy/Projet/site/lecaille-front/src/api/requests.js"],"names":["axios","config","tokenConfig","getAllRequests","get","api_url","headers","localStorage","getItem","token","name","then","response","data","result","catch","err","console","log","getAllRequestsByCustomer","id","getOneRequest","saveRequest","datas","post","deleteRequest","delete","getAllRequestDetails","saveRequestDetails","id_request"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport {config} from \"../config/config\"\nimport tokenConfig from \"../config/tokenConfig\"\n\n/*************************/\n/* GESTION DES COMMANDES */\n/*************************/\n\n//Récupération de toutes les commandes\nexport const getAllRequests = () => {\n    return axios.get(config.api_url + \"/requests\", {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then((response) => {\n        return response.data.result\n    })\n    .catch(err => console.log(err))\n}\n\n//Récupération des commandes d'un client\nexport const getAllRequestsByCustomer = (id) =>{\n    return axios.get(config.api_url + \"/\")\n}\n\n//Récupération d'une commande\nexport const getOneRequest = (id) => {\n    return axios.get(config.api_url + \"/request/\"+id,{headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then((response) => {\n        return response.data.result[0]\n    })\n    .catch(err => console.log(err))\n}\n\n//Sauvegarde d'une commande\nexport const saveRequest = (datas) => {\n    return axios.post(config.api_url + \"/request/save\", datas, {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then((response) => {\n        console.log(response)\n        return response.data.result\n    })\n    .catch(err => console.log(err))\n}\n\n//Suppression d'une commande\nexport const deleteRequest = (id) => {\n    return axios.delete(config.api_url + \"/request/delete/\"+id, {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then((response) => {\n        return response\n    })\n    .catch(err => console.log(err))\n}\n\n//Mise à jour du status du paiement\n\n\n//Mise à jour du status de préparation\n\n\n/*************************************/\n/* GESTION DES DETAILS DES COMMANDES */\n/*************************************/\n\n//Récupération de toutes les lignes d'une commande\nexport const getAllRequestDetails = (id) => {\n    return axios.get(config.api_url +\"/request/\"+id+\"/details\", {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then((response) => {\n        return response.data.result\n    })\n    .catch(err => console.log(err))\n}\n\n//Sauvegarde d'une ligne de commande\nexport const saveRequestDetails = (id_request, datas) => {\n    return axios.post(config.api_url +\"/request/\"+id_request+\"/details/save\", datas, {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then((response) => {\n        return response.data.result\n    })\n    .catch(err => console.log(err))\n}"]},"metadata":{},"sourceType":"module"}