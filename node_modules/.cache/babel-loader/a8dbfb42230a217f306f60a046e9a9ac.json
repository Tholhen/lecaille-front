{"ast":null,"code":"import axios from\"axios\";import{config}from\"../config/config\";import tokenConfig from\"../config/tokenConfig\";//Enregistrement d'un utilisateur\nexport var saveUser=function saveUser(datas){return axios.post(config.api_url+\"/user/register\",datas,{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response;}).catch(function(err){return err;});};//Connexion d'un utilisateur\nexport var loginUser=function loginUser(datas){return axios.post(config.api_url+\"/user/login\",datas).then(function(response){return response;}).catch(function(err){return err;});};//Récupération de tous les utilisateurs\nexport var getAllUsers=function getAllUsers(){return axios.get(config.api_url+\"/user/all\",{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response;}).catch(function(err){console.log(err);});};//Récupération d'un utilisateur\nexport var getOneUser=function getOneUser(id){return axios.get(config.api_url+\"/users/\"+id,{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response.data.user[0];}).catch(function(err){return console.log(err);});};//Mise à jour d'un utilisateur\nexport var updateUser=function updateUser(datas,id){return axios.put(config.api_url+\"/users/update/\"+id,datas,{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response;}).catch(function(err){return console.log(\"err\",err);});};//Mise à jour du mot de passe de l'utilisateur\nexport var updatePassword=function updatePassword(datas,id){return axios.put(config.api_url+\"/users/update/password/\"+id,datas,{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response;}).catch(function(err){return console.log(err);});};//Mise à jour du rôle de l'utilisateur\nexport var updateUserRole=function updateUserRole(datas,id){return axios.put(config.api_url+\"/users/update/role/\"+id,datas,{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response;}).catch(function(err){return console.log(err);});};//Récupération de tous les roles\nexport var getAllRoles=function getAllRoles(){return axios.get(config.api_url+\"/users/roles/all\",{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response;}).catch(function(err){return console.log(err);});};//Suppression d'un utilisateur\nexport var deleteUser=function deleteUser(id){return axios.delete(config.api_url+\"/users/delete/\"+id,{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response;}).catch(function(err){console.log(err);});};","map":{"version":3,"sources":["/Users/nicolas/Documents/Travail/Web Developper/3W Academy/Projet/site/lecaille-front/src/api/user.js"],"names":["axios","config","tokenConfig","saveUser","datas","post","api_url","headers","localStorage","getItem","token","name","then","response","catch","err","loginUser","getAllUsers","get","console","log","getOneUser","id","data","user","updateUser","put","updatePassword","updateUserRole","getAllRoles","deleteUser","delete"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport {config} from \"../config/config\"\nimport tokenConfig from \"../config/tokenConfig\"\n\n//Enregistrement d'un utilisateur\nexport const saveUser = (datas) => {\n\n    return axios.post(config.api_url + \"/user/register\", datas, {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then(response => {\n        return response\n    })\n    .catch(err => {\n        return err\n    })\n}\n\n//Connexion d'un utilisateur\nexport const loginUser = (datas) => {\n\n    return axios.post(config.api_url + \"/user/login\", datas)\n    .then(response => {\n        return response\n    })\n    .catch(err => {\n        return err\n    })\n}\n\n//Récupération de tous les utilisateurs\nexport const getAllUsers = () => {\n\n    return axios.get(config.api_url + \"/user/all\", {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then(response => {\n        return response\n    })\n    .catch(err => {\n        console.log(err)\n    })\n} \n\n//Récupération d'un utilisateur\nexport const getOneUser = (id) => {\n    \n    return axios.get(config.api_url + \"/users/\"+id, {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then(response => {\n        return response.data.user[0]\n    })\n    .catch(err => console.log(err))\n}\n\n//Mise à jour d'un utilisateur\nexport const updateUser = (datas, id) => {\n    return axios.put(config.api_url + \"/users/update/\"+id, datas, {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then(response => {\n        return response\n    })\n    .catch(err =>  console.log(\"err\",err))\n}\n\n//Mise à jour du mot de passe de l'utilisateur\nexport const updatePassword = (datas, id) => {\n    return axios.put(config.api_url + \"/users/update/password/\"+id, datas, {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then(response => {\n        return response\n    })\n    .catch(err => console.log(err))\n}\n\n//Mise à jour du rôle de l'utilisateur\nexport const updateUserRole = (datas, id) => {\n    \n    return axios.put(config.api_url + \"/users/update/role/\"+id, datas, {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then(response => {\n        return response\n    })\n    .catch(err => console.log(err))\n}\n\n//Récupération de tous les roles\nexport const getAllRoles = () => {\n    return axios.get(config.api_url +\"/users/roles/all\", {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then(response => {\n        return response\n    })\n    .catch(err => console.log(err))\n}\n\n//Suppression d'un utilisateur\nexport const deleteUser = (id) => {\n    return axios.delete(config.api_url + \"/users/delete/\"+id, {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then(response => {\n        return response\n    })\n    .catch(err => {\n        console.log(err)\n    })\n}"]},"metadata":{},"sourceType":"module"}