{"ast":null,"code":"import axios from \"axios\";\nimport { config } from \"../config/config\";\nimport tokenConfig from \"../config/tokenConfig\"; //Enregistrement d'un avis\n\nexport const saveShopOpinion = datas => {\n  return axios.post(config.api_url + \"/shop/opinion/save\", datas, {\n    headers: {\n      \"x-access-token\": localStorage.getItem(tokenConfig.token.name)\n    }\n  }).then(response => {\n    return response;\n  }).catch(err => {\n    console.log(err);\n  });\n}; //Enregistrement de la photo d'un avis\n\nexport const saveShopOpinionPict = fileDatas => {\n  let formData = new FormData();\n  formData.append(\"image\", fileDatas);\n  return axios({\n    method: \"post\",\n    url: config.api_url + \"/shop/opinion/pict\",\n    data: formData,\n    headers: {\n      \"Content-Type\": \"multipart/form-data\",\n      \"x-access-token\": localStorage.getItem(tokenConfig.token.name)\n    }\n  }).then(response => {\n    return response;\n  }).catch(err => {\n    console.log(err);\n  });\n}; //Edition d'un avis\n//Mise à jour du status d'un avis\n//Suppression d'un avis\n\nexport const deleteOpinion = id => {\n  return axios.delete();\n}; //Récupération de tous les avis\n\nexport const getAllShopOpinions = () => {\n  return axios.get(config.api_url + \"/shop/opinions/all\", {\n    headers: {\n      \"x-access-token\": localStorage.getItem(tokenConfig.token.name)\n    }\n  }).then(response => {\n    return response.data.result;\n  }).catch(err => console.log(err));\n}; //Récupération des X derniers avis\n\nexport const getLatestShopOpinions = limit => {\n  return axios.get(config.api_url + \"/shop/opinions/latest/\" + limit).then(response => {\n    return response.data.result;\n  }).catch(err => {\n    console.log(err);\n  });\n}; //Récupération d'un avis","map":{"version":3,"sources":["/Users/nicolas/Documents/Travail/Web Developper/3W Academy/Projet/site/lecaille-front/src/api/shopOpinions.js"],"names":["axios","config","tokenConfig","saveShopOpinion","datas","post","api_url","headers","localStorage","getItem","token","name","then","response","catch","err","console","log","saveShopOpinionPict","fileDatas","formData","FormData","append","method","url","data","deleteOpinion","id","delete","getAllShopOpinions","get","result","getLatestShopOpinions","limit"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,MAAR,QAAqB,kBAArB;AACA,OAAOC,WAAP,MAAwB,uBAAxB,C,CAEA;;AACA,OAAO,MAAMC,eAAe,GAAIC,KAAD,IAAW;AACtC,SAAOJ,KAAK,CAACK,IAAN,CAAWJ,MAAM,CAACK,OAAP,GAAiB,oBAA5B,EAAkDF,KAAlD,EAAyD;AAACG,IAAAA,OAAO,EAAE;AAAC,wBAAkBC,YAAY,CAACC,OAAb,CAAqBP,WAAW,CAACQ,KAAZ,CAAkBC,IAAvC;AAAnB;AAAV,GAAzD,EACNC,IADM,CACDC,QAAQ,IAAI;AACd,WAAOA,QAAP;AACH,GAHM,EAINC,KAJM,CAIAC,GAAG,IAAI;AAACC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAAiB,GAJzB,CAAP;AAKH,CANM,C,CAQP;;AACA,OAAO,MAAMG,mBAAmB,GAAIC,SAAD,IAAe;AAE9C,MAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,EAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBH,SAAzB;AAEA,SAAOnB,KAAK,CAAC;AAACuB,IAAAA,MAAM,EAAE,MAAT;AACCC,IAAAA,GAAG,EAAEvB,MAAM,CAACK,OAAP,GAAiB,oBADvB;AAECmB,IAAAA,IAAI,EAAEL,QAFP;AAGCb,IAAAA,OAAO,EAAE;AACL,sBAAe,qBADV;AAEL,wBAAiBC,YAAY,CAACC,OAAb,CAAqBP,WAAW,CAACQ,KAAZ,CAAkBC,IAAvC;AAFZ;AAHV,GAAD,CAAL,CAOMC,IAPN,CAOWC,QAAQ,IAAI;AAAC,WAAOA,QAAP;AAAgB,GAPxC,EAQMC,KARN,CAQYC,GAAG,IAAI;AAACC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAAiB,GARrC,CAAP;AASH,CAdM,C,CAgBP;AAGA;AAGA;;AACA,OAAO,MAAMW,aAAa,GAAIC,EAAD,IAAQ;AACjC,SAAO3B,KAAK,CAAC4B,MAAN,EAAP;AACH,CAFM,C,CAIP;;AACA,OAAO,MAAMC,kBAAkB,GAAG,MAAM;AACpC,SAAO7B,KAAK,CAAC8B,GAAN,CAAU7B,MAAM,CAACK,OAAP,GAAiB,oBAA3B,EAAiD;AAACC,IAAAA,OAAO,EAAE;AAAC,wBAAkBC,YAAY,CAACC,OAAb,CAAqBP,WAAW,CAACQ,KAAZ,CAAkBC,IAAvC;AAAnB;AAAV,GAAjD,EACNC,IADM,CACDC,QAAQ,IAAI;AACd,WAAOA,QAAQ,CAACY,IAAT,CAAcM,MAArB;AACH,GAHM,EAINjB,KAJM,CAIAC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAJP,CAAP;AAKH,CANM,C,CAQP;;AACA,OAAO,MAAMiB,qBAAqB,GAAIC,KAAD,IAAW;AAC5C,SAAOjC,KAAK,CAAC8B,GAAN,CAAU7B,MAAM,CAACK,OAAP,GAAiB,wBAAjB,GAA0C2B,KAApD,EACNrB,IADM,CACDC,QAAQ,IAAI;AACd,WAAOA,QAAQ,CAACY,IAAT,CAAcM,MAArB;AACH,GAHM,EAINjB,KAJM,CAIAC,GAAG,IAAI;AAACC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAAiB,GAJzB,CAAP;AAKH,CANM,C,CAQP","sourcesContent":["import axios from \"axios\"\nimport {config} from \"../config/config\"\nimport tokenConfig from \"../config/tokenConfig\"\n\n//Enregistrement d'un avis\nexport const saveShopOpinion = (datas) => {\n    return axios.post(config.api_url + \"/shop/opinion/save\", datas, {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then(response => {\n        return response\n    })\n    .catch(err => {console.log(err)})\n}\n\n//Enregistrement de la photo d'un avis\nexport const saveShopOpinionPict = (fileDatas) => {\n    \n    let formData = new FormData()\n    formData.append(\"image\", fileDatas)\n\n    return axios({method: \"post\",\n                  url: config.api_url + \"/shop/opinion/pict\",\n                  data: formData,\n                  headers: {\n                      \"Content-Type\":\"multipart/form-data\",\n                      \"x-access-token\":localStorage.getItem(tokenConfig.token.name)\n                  }})\n                .then(response => {return response})\n                .catch(err => {console.log(err)})\n}\n\n//Edition d'un avis\n\n\n//Mise à jour du status d'un avis\n\n\n//Suppression d'un avis\nexport const deleteOpinion = (id) => {\n    return axios.delete()\n}\n\n//Récupération de tous les avis\nexport const getAllShopOpinions = () => {\n    return axios.get(config.api_url + \"/shop/opinions/all\", {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then(response => {\n        return response.data.result\n    })\n    .catch(err => console.log(err))\n}\n\n//Récupération des X derniers avis\nexport const getLatestShopOpinions = (limit) => {\n    return axios.get(config.api_url + \"/shop/opinions/latest/\"+limit)\n    .then(response => {\n        return response.data.result\n    })\n    .catch(err => {console.log(err)})\n}\n\n//Récupération d'un avis"]},"metadata":{},"sourceType":"module"}