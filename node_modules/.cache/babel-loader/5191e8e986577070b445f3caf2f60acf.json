{"ast":null,"code":"import axios from\"axios\";import{config}from\"../config/config\";import tokenConfig from\"../config/tokenConfig\";//Enregistrement d'un avis\nexport var saveShopOpinion=function saveShopOpinion(datas){return axios.post(config.api_url+\"/shop/opinion/save\",datas,{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response;}).catch(function(err){console.log(err);});};//Enregistrement de la photo d'un avis\nexport var saveShopOpinionPict=function saveShopOpinionPict(fileDatas){var formData=new FormData();formData.append(\"image\",fileDatas);return axios({method:\"post\",url:config.api_url+\"/shop/opinion/pict\",data:formData,headers:{\"Content-Type\":\"multipart/form-data\",\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response;}).catch(function(err){console.log(err);});};//Suppression d'un avis\nexport var deleteOpinion=function deleteOpinion(id){return axios.delete(config.api_url+\"/shop/opinion/delete/\"+id,{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response;}).catch(function(err){console.log(err);});};//Récupération de tous les avis\nexport var getAllShopOpinions=function getAllShopOpinions(){return axios.get(config.api_url+\"/shop/opinions/all\",{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response.data.result;}).catch(function(err){return console.log(err);});};//Récupération des X derniers avis\nexport var getLatestShopOpinions=function getLatestShopOpinions(limit){return axios.get(config.api_url+\"/shop/opinions/latest/\"+limit).then(function(response){return response.data.result;}).catch(function(err){console.log(err);});};//Récupération d'un avis","map":{"version":3,"sources":["/Users/nicolas/Documents/Travail/Web Developper/3W Academy/Projet/site/lecaille-front/src/api/shopOpinions.js"],"names":["axios","config","tokenConfig","saveShopOpinion","datas","post","api_url","headers","localStorage","getItem","token","name","then","response","catch","err","console","log","saveShopOpinionPict","fileDatas","formData","FormData","append","method","url","data","deleteOpinion","id","delete","getAllShopOpinions","get","result","getLatestShopOpinions","limit"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport {config} from \"../config/config\"\nimport tokenConfig from \"../config/tokenConfig\"\n\n//Enregistrement d'un avis\nexport const saveShopOpinion = (datas) => {\n    return axios.post(config.api_url + \"/shop/opinion/save\", datas, {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then(response => {\n        return response\n    })\n    .catch(err => {console.log(err)})\n}\n\n//Enregistrement de la photo d'un avis\nexport const saveShopOpinionPict = (fileDatas) => {\n    \n    let formData = new FormData()\n    formData.append(\"image\", fileDatas)\n\n    return axios({method: \"post\",\n                  url: config.api_url + \"/shop/opinion/pict\",\n                  data: formData,\n                  headers: {\n                      \"Content-Type\":\"multipart/form-data\",\n                      \"x-access-token\":localStorage.getItem(tokenConfig.token.name)\n                  }})\n                .then(response => {return response})\n                .catch(err => {console.log(err)})\n}\n\n//Suppression d'un avis\nexport const deleteOpinion = (id) => {\n    return axios.delete(config.api_url + \"/shop/opinion/delete/\"+id, {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then(response => {\n        return response\n    })\n    .catch(err => { console.log(err)})\n}\n\n//Récupération de tous les avis\nexport const getAllShopOpinions = () => {\n    return axios.get(config.api_url + \"/shop/opinions/all\", {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then(response => {\n        return response.data.result\n    })\n    .catch(err => console.log(err))\n}\n\n//Récupération des X derniers avis\nexport const getLatestShopOpinions = (limit) => {\n    return axios.get(config.api_url + \"/shop/opinions/latest/\"+limit)\n    .then(response => {\n        return response.data.result\n    })\n    .catch(err => {console.log(err)})\n}\n\n//Récupération d'un avis"]},"metadata":{},"sourceType":"module"}