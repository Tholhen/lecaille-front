{"ast":null,"code":"const localStorageBasketName = \"lecaille-basket\"; //Ajout d'un produit dans le panier\n\nexport const addToBasket = (product, quantity) => {\n  console.log(\"ajout du produit au panier\");\n  let newBasket = [];\n  let basket = JSON.parse(localStorage.getItem(localStorageBasketName));\n\n  if (basket) {\n    newBasket = basket;\n    /*\n    let productExists = newBasket.find(basketProduct => basketProduct.product.id === product.id)\n    if(productExists){\n        productExists.quantity += parseFloat(quantity)\n        newBasket.push(productExists)\n    }\n    else(\n        newBasket.push({product: product, quantity: parseFloat(quantity)})\n    )*/\n\n    let productExistsIndex = newBasket.findIndex(basketProduct => basketProduct.product.id === product.id);\n    console.log(productExistsIndex);\n\n    if (productExistsIndex !== -1) {\n      console.log(\"existe\");\n    } else {\n      console.log(\"n'existe pas\");\n    }\n  } else {\n    newBasket.push({\n      product: product,\n      quantity: parseFloat(quantity)\n    });\n  }\n\n  localStorage.setItem(localStorageBasketName, JSON.stringify(newBasket));\n}; //Edition d'un produit du panier\n\nexport const editFromBasket = (id, quantity) => {}; //Suppression d'un produit du panier\n\nexport const deleteFromBasket = id => {\n  let newBasket = [];\n}; //Suppression du panier\n\nexport const clearBasket = () => {};","map":{"version":3,"sources":["/Users/nicolas/Documents/Travail/Web Developper/3W Academy/Projet/site/lecaille-front/src/utils/basket.js"],"names":["localStorageBasketName","addToBasket","product","quantity","console","log","newBasket","basket","JSON","parse","localStorage","getItem","productExistsIndex","findIndex","basketProduct","id","push","parseFloat","setItem","stringify","editFromBasket","deleteFromBasket","clearBasket"],"mappings":"AAAA,MAAMA,sBAAsB,GAAG,iBAA/B,C,CAEA;;AACA,OAAO,MAAMC,WAAW,GAAG,CAACC,OAAD,EAAUC,QAAV,KAAwB;AAC/CC,EAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AAEA,MAAIC,SAAS,GAAI,EAAjB;AACA,MAAIC,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBX,sBAArB,CAAX,CAAb;;AAGA,MAAGO,MAAH,EAAU;AACND,IAAAA,SAAS,GAAGC,MAAZ;AACA;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACQ,QAAIK,kBAAkB,GAAGN,SAAS,CAACO,SAAV,CAAoBC,aAAa,IAAIA,aAAa,CAACZ,OAAd,CAAsBa,EAAtB,KAA6Bb,OAAO,CAACa,EAA1E,CAAzB;AACAX,IAAAA,OAAO,CAACC,GAAR,CAAYO,kBAAZ;;AACA,QAAGA,kBAAkB,KAAK,CAAC,CAA3B,EAA6B;AACzBR,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACH,KAFD,MAGK;AACDD,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACH;AACJ,GAnBD,MAoBK;AACDC,IAAAA,SAAS,CAACU,IAAV,CAAe;AAACd,MAAAA,OAAO,EAAEA,OAAV;AAAmBC,MAAAA,QAAQ,EAAEc,UAAU,CAACd,QAAD;AAAvC,KAAf;AACH;;AAEDO,EAAAA,YAAY,CAACQ,OAAb,CAAqBlB,sBAArB,EAA6CQ,IAAI,CAACW,SAAL,CAAeb,SAAf,CAA7C;AACH,CAhCM,C,CAkCP;;AACA,OAAO,MAAMc,cAAc,GAAG,CAACL,EAAD,EAAKZ,QAAL,KAAkB,CAE/C,CAFM,C,CAIP;;AACA,OAAO,MAAMkB,gBAAgB,GAAIN,EAAD,IAAQ;AACpC,MAAIT,SAAS,GAAG,EAAhB;AAEH,CAHM,C,CAKP;;AACA,OAAO,MAAMgB,WAAW,GAAG,MAAM,CAEhC,CAFM","sourcesContent":["const localStorageBasketName = \"lecaille-basket\"\n\n//Ajout d'un produit dans le panier\nexport const addToBasket = (product, quantity) =>  {\n    console.log(\"ajout du produit au panier\")\n    \n    let newBasket  = []\n    let basket = JSON.parse(localStorage.getItem(localStorageBasketName))\n\n    \n    if(basket){\n        newBasket = basket\n        /*\n        let productExists = newBasket.find(basketProduct => basketProduct.product.id === product.id)\n        if(productExists){\n            productExists.quantity += parseFloat(quantity)\n            newBasket.push(productExists)\n        }\n        else(\n            newBasket.push({product: product, quantity: parseFloat(quantity)})\n        )*/\n        let productExistsIndex = newBasket.findIndex(basketProduct => basketProduct.product.id === product.id)\n        console.log(productExistsIndex)\n        if(productExistsIndex !== -1){\n            console.log(\"existe\")\n        }\n        else {\n            console.log(\"n'existe pas\")\n        }\n    }\n    else {\n        newBasket.push({product: product, quantity: parseFloat(quantity)})\n    }\n\n    localStorage.setItem(localStorageBasketName, JSON.stringify(newBasket))\n}\n\n//Edition d'un produit du panier\nexport const editFromBasket = (id, quantity) => {\n\n}\n\n//Suppression d'un produit du panier\nexport const deleteFromBasket = (id) => {\n    let newBasket = []\n\n}\n\n//Suppression du panier\nexport const clearBasket = () => {\n\n}"]},"metadata":{},"sourceType":"module"}