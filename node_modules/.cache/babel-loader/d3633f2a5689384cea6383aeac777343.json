{"ast":null,"code":"var _jsxFileName = \"/Users/nicolas/Documents/Travail/Web Developper/3W Academy/Projet/site/lecaille-front/src/components/shopOpinionPopUp.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { connect } from \"react-redux\";\nimport { saveUser } from \"../api/user\";\nimport { config } from \"../config\";\nimport { saveShopOpinion, saveShopOpinionPict } from \"../api/shopOpinions\";\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Button } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles } from \"@material-ui/styles\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ShopOpinionPopUp = props => {\n  _s();\n\n  //Définition des variables\n  const [opinion, setOpinion] = useState(\"\");\n  const [opinionError, setOpinionError] = useState(false);\n  const [opinionErrorMsg, setOpinionErrorMsg] = useState(\"\");\n  const [selectedFile, setSelectedFile] = useState(\"\");\n  const [filePreview, setFilePreview] = useState(\"\");\n  const [defaultPict, setDefaultPict] = useState(\"no-pict.png\"); //Définition des styles MaterialUI\n\n  const useStyles = makeStyles(theme => ({\n    margin: {\n      marginTop: theme.spacing(2)\n    }\n  }));\n  const classes = useStyles();\n\n  const onSubmit = () => {\n    if (!opinion) {\n      setOpinionError(true);\n      setOpinionErrorMsg(\"Veuillez saisir votre message\");\n    } else {\n      setOpinionError(false);\n      setOpinionErrorMsg(\"Veuillez saisir votre message\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: props.opened,\n    onClose: e => {\n      props.closeShopOpinionPopUp();\n    },\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: \"Votre avis compte pour nous !\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"shop-opinion-popup-form\",\n        children: [/*#__PURE__*/_jsxDEV(FormControl, {\n          error: true,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"filled\",\n            label: \"Avis\",\n            required: true,\n            multiline: true,\n            rows: 4,\n            error: opinionErrorMsg,\n            onChange: e => {\n              setOpinion(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n            children: opinionErrorMsg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          className: classes.margin,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            accept: \"images/*\",\n            style: {\n              display: 'none'\n            },\n            id: \"file-select\",\n            type: \"file\",\n            onChange: e => {\n              setSelectedFile(e.target.files[0]);\n\n              if (e.target.files.length > 0) {\n                setFilePreview(URL.createObjectURL(e.target.files[0]));\n              } else {\n                setFilePreview(\"\");\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"file-select\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              color: \"primary\",\n              component: \"span\",\n              children: \"Ajouter une photo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shop-opinion-popup-preview\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: filePreview\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this), selectedFile && selectedFile.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: e => {\n          props.closeShopOpinionPopUp();\n        },\n        color: \"primary\",\n        children: \"Annuler\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: e => {\n          onSubmit();\n        },\n        color: \"primary\",\n        variant: \"contained\",\n        children: \"Envoyer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ShopOpinionPopUp, \"qe0sor+hqrKHTqgc7yBC3/wevbQ=\", true);\n\n_c = ShopOpinionPopUp;\n\nconst mapStateToProps = store => {\n  return {\n    user: store.user\n  };\n};\n\nconst mapDispatchToProps = {};\nexport default connect(mapStateToProps, mapDispatchToProps)(ShopOpinionPopUp);\n\nvar _c;\n\n$RefreshReg$(_c, \"ShopOpinionPopUp\");","map":{"version":3,"sources":["/Users/nicolas/Documents/Travail/Web Developper/3W Academy/Projet/site/lecaille-front/src/components/shopOpinionPopUp.js"],"names":["React","useState","connect","saveUser","config","saveShopOpinion","saveShopOpinionPict","Dialog","DialogActions","DialogContent","DialogTitle","Button","TextField","FormHelperText","FormControl","makeStyles","ShopOpinionPopUp","props","opinion","setOpinion","opinionError","setOpinionError","opinionErrorMsg","setOpinionErrorMsg","selectedFile","setSelectedFile","filePreview","setFilePreview","defaultPict","setDefaultPict","useStyles","theme","margin","marginTop","spacing","classes","onSubmit","opened","e","closeShopOpinionPopUp","target","value","display","files","length","URL","createObjectURL","name","mapStateToProps","store","user","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport {connect} from \"react-redux\"\nimport {saveUser} from \"../api/user\"\nimport {config} from \"../config\"\n\nimport {saveShopOpinion, saveShopOpinionPict} from \"../api/shopOpinions\"\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Button } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport {makeStyles } from \"@material-ui/styles\";\n\n\n\nconst ShopOpinionPopUp = (props) => {\n\n    //Définition des variables\n    const [opinion, setOpinion] = useState(\"\")\n    const [opinionError, setOpinionError] = useState(false)\n    const [opinionErrorMsg, setOpinionErrorMsg] = useState(\"\")\n\n    const [selectedFile, setSelectedFile] = useState(\"\")\n    const [filePreview, setFilePreview] = useState(\"\")\n    const [defaultPict, setDefaultPict] = useState(\"no-pict.png\")\n\n    //Définition des styles MaterialUI\n    const useStyles = makeStyles((theme) => ({\n        margin:{\n            marginTop: theme.spacing(2)\n        }\n        }));\n        \n    const classes = useStyles();\n\n    const onSubmit = () =>{\n        \n       if(!opinion){\n           setOpinionError(true)\n           setOpinionErrorMsg(\"Veuillez saisir votre message\")\n       }\n       else{\n        setOpinionError(false)\n        setOpinionErrorMsg(\"Veuillez saisir votre message\")\n       }\n    }\n\n    return(\n        <Dialog\n            open={props.opened}\n            onClose={(e) => {props.closeShopOpinionPopUp()}}\n        >\n            <DialogTitle>Votre avis compte pour nous !</DialogTitle>\n            <DialogContent>\n                <form className=\"shop-opinion-popup-form\">\n                    <FormControl error>\n                    <TextField variant=\"filled\" \n                                label=\"Avis\"\n                                required\n                                multiline rows={4}\n                                error={opinionErrorMsg}\n                                onChange={(e) => {setOpinion(e.target.value)}}/>\n                        <FormHelperText>{opinionErrorMsg}</FormHelperText>\n                    </FormControl>\n\n                    <FormControl className={classes.margin}>\n                        <input \n                        accept=\"images/*\"\n                        style={{display: 'none'}}\n                        id=\"file-select\"\n                        type=\"file\"\n                        onChange={(e) => {setSelectedFile(e.target.files[0])\n                                            if(e.target.files.length > 0) {\n                                            setFilePreview(URL.createObjectURL(e.target.files[0]))\n                                            }\n                                            else {\n                                            setFilePreview(\"\")\n                                        }\n                                            }}\n                        />\n                        <label htmlFor=\"file-select\">\n                            <Button color=\"primary\" component=\"span\">Ajouter une photo</Button>\n                        </label>\n                        <div className=\"shop-opinion-popup-preview\">\n                            <img src={filePreview} />\n                            {selectedFile && selectedFile.name}\n                        </div>\n                    </FormControl>\n                    \n                </form>\n            </DialogContent>\n            <DialogActions>\n            <Button onClick={(e) => {props.closeShopOpinionPopUp()}} color=\"primary\">\n                Annuler\n            </Button>\n            <Button onClick={(e) => {onSubmit()}} color=\"primary\" variant=\"contained\">\n                Envoyer\n            </Button>\n            </DialogActions>\n        </Dialog>\n    )\n}\n\nconst mapStateToProps = (store) => {\n    return {\n        user: store.user\n    }\n}\n\nconst mapDispatchToProps = {\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShopOpinionPopUp)"]},"metadata":{},"sourceType":"module"}