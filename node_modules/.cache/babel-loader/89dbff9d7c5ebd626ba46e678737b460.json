{"ast":null,"code":"const localStorageBasketName = \"lecaille-basket\"; //Récupération du panier dans le local storage\n\nexport const getBasket = () => {\n  if (JSON.parse(localStorage.getItem(localStorageBasketName))) {\n    return JSON.parse(localStorage.getItem(localStorageBasketName));\n  } else {\n    return [];\n  }\n}; //Ajout d'un produit dans le panier\n\nexport const addToBasket = (product, quantity) => {\n  if (parseFloat(quantity) > 0) {\n    let newBasket = [];\n    let basket = getBasket();\n\n    if (basket) {\n      newBasket = basket;\n      let productExistsIndex = newBasket.findIndex(basketProduct => basketProduct.productId === product.id);\n\n      if (productExistsIndex !== -1) {\n        newBasket[productExistsIndex].quantity += parseFloat(quantity);\n      } else {\n        newBasket.push({\n          productId: product.id,\n          quantity: parseFloat(quantity)\n        });\n      }\n    } else {\n      newBasket.push({\n        productId: product.id,\n        quantity: parseFloat(quantity)\n      });\n    }\n\n    localStorage.setItem(localStorageBasketName, JSON.stringify(newBasket));\n  }\n}; //Edition d'un produit du panier\n\nexport const editFromBasket = (id, quantity) => {}; //Suppression d'un produit du panier\n\nexport const deleteFromBasket = id => {\n  let basket = getBasket();\n  let newBasket = basket.filter(newProduct => newProduct.productId !== id);\n  localStorage.setItem(localStorageBasketName, JSON.stringify(newBasket));\n}; //Suppression du panier\n\nexport const clearBasket = () => {\n  localStorage.removeItem(localStorageBasketName);\n};","map":{"version":3,"sources":["/Users/nicolas/Documents/Travail/Web Developper/3W Academy/Projet/site/lecaille-front/src/utils/basket.js"],"names":["localStorageBasketName","getBasket","JSON","parse","localStorage","getItem","addToBasket","product","quantity","parseFloat","newBasket","basket","productExistsIndex","findIndex","basketProduct","productId","id","push","setItem","stringify","editFromBasket","deleteFromBasket","filter","newProduct","clearBasket","removeItem"],"mappings":"AAAA,MAAMA,sBAAsB,GAAG,iBAA/B,C,CAEA;;AACA,OAAO,MAAMC,SAAS,GAAG,MAAM;AAC3B,MAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBL,sBAArB,CAAX,CAAH,EACA;AACI,WAAOE,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBL,sBAArB,CAAX,CAAP;AACH,GAHD,MAIK;AACD,WAAO,EAAP;AACH;AACJ,CARM,C,CASP;;AACA,OAAO,MAAMM,WAAW,GAAG,CAACC,OAAD,EAAUC,QAAV,KAAwB;AAC/C,MAAGC,UAAU,CAACD,QAAD,CAAV,GAAuB,CAA1B,EAA4B;AACxB,QAAIE,SAAS,GAAI,EAAjB;AACA,QAAIC,MAAM,GAAGV,SAAS,EAAtB;;AAEA,QAAGU,MAAH,EAAU;AACND,MAAAA,SAAS,GAAGC,MAAZ;AACA,UAAIC,kBAAkB,GAAGF,SAAS,CAACG,SAAV,CAAoBC,aAAa,IAAIA,aAAa,CAACC,SAAd,KAA4BR,OAAO,CAACS,EAAzE,CAAzB;;AACA,UAAGJ,kBAAkB,KAAK,CAAC,CAA3B,EAA6B;AACzBF,QAAAA,SAAS,CAACE,kBAAD,CAAT,CAA8BJ,QAA9B,IAA0CC,UAAU,CAACD,QAAD,CAApD;AACH,OAFD,MAGK;AACDE,QAAAA,SAAS,CAACO,IAAV,CAAe;AAACF,UAAAA,SAAS,EAAER,OAAO,CAACS,EAApB;AAAwBR,UAAAA,QAAQ,EAAEC,UAAU,CAACD,QAAD;AAA5C,SAAf;AACH;AACJ,KATD,MAUK;AACDE,MAAAA,SAAS,CAACO,IAAV,CAAe;AAACF,QAAAA,SAAS,EAAER,OAAO,CAACS,EAApB;AAAwBR,QAAAA,QAAQ,EAAEC,UAAU,CAACD,QAAD;AAA5C,OAAf;AACH;;AAEDJ,IAAAA,YAAY,CAACc,OAAb,CAAqBlB,sBAArB,EAA6CE,IAAI,CAACiB,SAAL,CAAeT,SAAf,CAA7C;AACH;AACJ,CArBM,C,CAuBP;;AACA,OAAO,MAAMU,cAAc,GAAG,CAACJ,EAAD,EAAKR,QAAL,KAAkB,CAE/C,CAFM,C,CAIP;;AACA,OAAO,MAAMa,gBAAgB,GAAIL,EAAD,IAAQ;AACpC,MAAIL,MAAM,GAAGV,SAAS,EAAtB;AACA,MAAIS,SAAS,GAAGC,MAAM,CAACW,MAAP,CAAcC,UAAU,IAAIA,UAAU,CAACR,SAAX,KAAyBC,EAArD,CAAhB;AACAZ,EAAAA,YAAY,CAACc,OAAb,CAAqBlB,sBAArB,EAA6CE,IAAI,CAACiB,SAAL,CAAeT,SAAf,CAA7C;AACH,CAJM,C,CAMP;;AACA,OAAO,MAAMc,WAAW,GAAG,MAAM;AAC7BpB,EAAAA,YAAY,CAACqB,UAAb,CAAwBzB,sBAAxB;AACH,CAFM","sourcesContent":["const localStorageBasketName = \"lecaille-basket\"\n\n//Récupération du panier dans le local storage\nexport const getBasket = () => {\n    if(JSON.parse(localStorage.getItem(localStorageBasketName))) \n    {\n        return JSON.parse(localStorage.getItem(localStorageBasketName))\n    }\n    else {\n        return []\n    }\n}\n//Ajout d'un produit dans le panier\nexport const addToBasket = (product, quantity) =>  {\n    if(parseFloat(quantity) > 0){    \n        let newBasket  = []\n        let basket = getBasket()\n        \n        if(basket){\n            newBasket = basket\n            let productExistsIndex = newBasket.findIndex(basketProduct => basketProduct.productId === product.id)\n            if(productExistsIndex !== -1){\n                newBasket[productExistsIndex].quantity += parseFloat(quantity)\n            }\n            else {\n                newBasket.push({productId: product.id, quantity: parseFloat(quantity)})\n            }\n        }\n        else {\n            newBasket.push({productId: product.id, quantity: parseFloat(quantity)})\n        }\n\n        localStorage.setItem(localStorageBasketName, JSON.stringify(newBasket))\n    }\n}\n\n//Edition d'un produit du panier\nexport const editFromBasket = (id, quantity) => {\n\n}\n\n//Suppression d'un produit du panier\nexport const deleteFromBasket = (id) => {\n    let basket = getBasket()\n    let newBasket = basket.filter(newProduct => newProduct.productId !== id)\n    localStorage.setItem(localStorageBasketName, JSON.stringify(newBasket))\n}\n\n//Suppression du panier\nexport const clearBasket = () => {\n    localStorage.removeItem(localStorageBasketName)\n}\n\n"]},"metadata":{},"sourceType":"module"}