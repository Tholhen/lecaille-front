{"ast":null,"code":"import axios from\"axios\";import{config}from\"../config/config\";import tokenConfig from\"../config/tokenConfig\";/*************************/ /* GESTION DES COMMANDES */ /*************************/ //Récupération de toutes les commandes\nexport var getAllRequests=function getAllRequests(){return axios.get(config.api_url+\"/requests\",{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response.data.result;}).catch(function(err){return console.log(err);});};//Récupération des commandes d'un client\nexport var getAllRequestsByCustomer=function getAllRequestsByCustomer(id){return axios.get(config.api_url+\"/requests/customer/\"+id,{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response.data.result;}).catch(function(err){return console.log(err);});};//Récupération d'une commande\nexport var getOneRequest=function getOneRequest(id){return axios.get(config.api_url+\"/request/\"+id,{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response.data.result[0];}).catch(function(err){return console.log(err);});};//Sauvegarde d'une commande\nexport var saveRequest=function saveRequest(datas){return axios.post(config.api_url+\"/request/save\",datas,{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response.data.result;}).catch(function(err){return console.log(err);});};//Suppression d'une commande\nexport var deleteRequest=function deleteRequest(id){return axios.delete(config.api_url+\"/request/delete/\"+id,{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response;}).catch(function(err){return console.log(err);});};//Mise à jour du status de préparation\n/*************************************/ /* GESTION DES DETAILS DES COMMANDES */ /*************************************/ //Récupération de toutes les lignes d'une commande\nexport var getAllRequestDetails=function getAllRequestDetails(id){return axios.get(config.api_url+\"/request/\"+id+\"/details\",{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response.data.result;}).catch(function(err){return console.log(err);});};//Sauvegarde d'une ligne de commande\nexport var saveRequestDetails=function saveRequestDetails(id_request,datas){return axios.post(config.api_url+\"/request/\"+id_request+\"/details/save\",datas,{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response.data.result;}).catch(function(err){return console.log(err);});};/*************************************/ /* GESTION DES STATUTS DES COMMANDES */ /*************************************/ //Récupération de tous les status de commande existants\nexport var getAllRequestsStatus=function getAllRequestsStatus(){return axios.get(config.api_url+\"/requests/status/all\",{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response.data.result;}).catch(function(err){return console.log(err);});};//Mise à jour du statut d'une commande\nexport var updateRequestStatus=function updateRequestStatus(datas){return axios.put(config.api_url+\"/request/\"+datas.id_request+\"/status/update\",datas,{headers:{\"x-access-token\":localStorage.getItem(tokenConfig.token.name)}}).then(function(response){return response;}).catch(function(err){return console.log(err);});};","map":{"version":3,"sources":["/Users/nicolas/Documents/Travail/Web Developper/3W Academy/Projet/site/lecaille-front/src/api/requests.js"],"names":["axios","config","tokenConfig","getAllRequests","get","api_url","headers","localStorage","getItem","token","name","then","response","data","result","catch","err","console","log","getAllRequestsByCustomer","id","getOneRequest","saveRequest","datas","post","deleteRequest","delete","getAllRequestDetails","saveRequestDetails","id_request","getAllRequestsStatus","updateRequestStatus","put"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport {config} from \"../config/config\"\nimport tokenConfig from \"../config/tokenConfig\"\n\n/*************************/\n/* GESTION DES COMMANDES */\n/*************************/\n\n//Récupération de toutes les commandes\nexport const getAllRequests = () => {\n    return axios.get(config.api_url + \"/requests\", {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then((response) => {\n        return response.data.result\n    })\n    .catch(err => console.log(err))\n}\n\n//Récupération des commandes d'un client\nexport const getAllRequestsByCustomer = (id) =>{\n    return axios.get(config.api_url + \"/requests/customer/\"+id, {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then((response) => {\n        return response.data.result\n    })\n    .catch(err => console.log(err))\n}\n\n//Récupération d'une commande\nexport const getOneRequest = (id) => {\n    return axios.get(config.api_url + \"/request/\"+id,{headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then((response) => {\n        return response.data.result[0]\n    })\n    .catch(err => console.log(err))\n}\n\n//Sauvegarde d'une commande\nexport const saveRequest = (datas) => {\n    return axios.post(config.api_url + \"/request/save\", datas, {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then((response) => {\n        return response.data.result\n    })\n    .catch(err => console.log(err))\n}\n\n//Suppression d'une commande\nexport const deleteRequest = (id) => {\n    return axios.delete(config.api_url + \"/request/delete/\"+id, {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then((response) => {\n        return response\n    })\n    .catch(err => console.log(err))\n}\n\n//Mise à jour du status de préparation\n\n\n/*************************************/\n/* GESTION DES DETAILS DES COMMANDES */\n/*************************************/\n\n//Récupération de toutes les lignes d'une commande\nexport const getAllRequestDetails = (id) => {\n    return axios.get(config.api_url +\"/request/\"+id+\"/details\", {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then((response) => {\n        return response.data.result\n    })\n    .catch(err => console.log(err))\n}\n\n//Sauvegarde d'une ligne de commande\nexport const saveRequestDetails = (id_request, datas) => {\n    return axios.post(config.api_url +\"/request/\"+id_request+\"/details/save\", datas, {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then((response) => {\n        return response.data.result\n    })\n    .catch(err => console.log(err))\n}\n\n/*************************************/\n/* GESTION DES STATUTS DES COMMANDES */\n/*************************************/\n\n//Récupération de tous les status de commande existants\nexport const getAllRequestsStatus = () => {\n    return axios.get(config.api_url + \"/requests/status/all\", {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then(response => {\n        return response.data.result\n    })\n    .catch(err => console.log(err))\n\n}\n\n//Mise à jour du statut d'une commande\nexport const updateRequestStatus = (datas) => {\n    return axios.put(config.api_url + \"/request/\" + datas.id_request + \"/status/update\", datas, {headers: {\"x-access-token\": localStorage.getItem(tokenConfig.token.name)}})\n    .then(response => {\n        return response\n    })\n    .catch(err => console.log(err))\n}"]},"metadata":{},"sourceType":"module"}