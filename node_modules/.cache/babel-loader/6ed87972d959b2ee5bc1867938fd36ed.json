{"ast":null,"code":"var localStorageBasketName=\"lecaille-basket\";//Récupération du panier dans le local storage\nexport var getBasket=function getBasket(){if(JSON.parse(localStorage.getItem(localStorageBasketName))){return JSON.parse(localStorage.getItem(localStorageBasketName));}else{return[];}};//Ajout d'un produit dans le panier\nexport var addToBasket=function addToBasket(product,quantity){if(parseFloat(quantity)>0){var newBasket=[];var basket=getBasket();if(basket){newBasket=basket;var productExistsIndex=newBasket.findIndex(function(basketProduct){return basketProduct.productId===product.id;});if(productExistsIndex!==-1){newBasket[productExistsIndex].quantity+=parseFloat(quantity);}else{newBasket.push({productId:product.id,quantity:parseFloat(quantity)});}}else{newBasket.push({productId:product.id,quantity:parseFloat(quantity)});}localStorage.setItem(localStorageBasketName,JSON.stringify(newBasket));}};//Suppression d'un produit du panier\nexport var deleteFromBasket=function deleteFromBasket(id){var basket=getBasket();var newBasket=basket.filter(function(newProduct){return newProduct.productId!==id;});localStorage.setItem(localStorageBasketName,JSON.stringify(newBasket));};//Suppression du panier\nexport var clearBasket=function clearBasket(){localStorage.removeItem(localStorageBasketName);};","map":{"version":3,"sources":["/Users/nicolas/Documents/Travail/Web Developper/3W Academy/Projet/site/lecaille-front/src/utils/basket.js"],"names":["localStorageBasketName","getBasket","JSON","parse","localStorage","getItem","addToBasket","product","quantity","parseFloat","newBasket","basket","productExistsIndex","findIndex","basketProduct","productId","id","push","setItem","stringify","deleteFromBasket","filter","newProduct","clearBasket","removeItem"],"mappings":"AAAA,GAAMA,CAAAA,sBAAsB,CAAG,iBAA/B,CAEA;AACA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CAC3B,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBL,sBAArB,CAAX,CAAH,CACA,CACI,MAAOE,CAAAA,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBL,sBAArB,CAAX,CAAP,CACH,CAHD,IAIK,CACD,MAAO,EAAP,CACH,CACJ,CARM,CASP;AACA,MAAO,IAAMM,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,OAAD,CAAUC,QAAV,CAAwB,CAC/C,GAAGC,UAAU,CAACD,QAAD,CAAV,CAAuB,CAA1B,CAA4B,CACxB,GAAIE,CAAAA,SAAS,CAAI,EAAjB,CACA,GAAIC,CAAAA,MAAM,CAAGV,SAAS,EAAtB,CAEA,GAAGU,MAAH,CAAU,CACND,SAAS,CAAGC,MAAZ,CACA,GAAIC,CAAAA,kBAAkB,CAAGF,SAAS,CAACG,SAAV,CAAoB,SAAAC,aAAa,QAAIA,CAAAA,aAAa,CAACC,SAAd,GAA4BR,OAAO,CAACS,EAAxC,EAAjC,CAAzB,CACA,GAAGJ,kBAAkB,GAAK,CAAC,CAA3B,CAA6B,CACzBF,SAAS,CAACE,kBAAD,CAAT,CAA8BJ,QAA9B,EAA0CC,UAAU,CAACD,QAAD,CAApD,CACH,CAFD,IAGK,CACDE,SAAS,CAACO,IAAV,CAAe,CAACF,SAAS,CAAER,OAAO,CAACS,EAApB,CAAwBR,QAAQ,CAAEC,UAAU,CAACD,QAAD,CAA5C,CAAf,EACH,CACJ,CATD,IAUK,CACDE,SAAS,CAACO,IAAV,CAAe,CAACF,SAAS,CAAER,OAAO,CAACS,EAApB,CAAwBR,QAAQ,CAAEC,UAAU,CAACD,QAAD,CAA5C,CAAf,EACH,CAEDJ,YAAY,CAACc,OAAb,CAAqBlB,sBAArB,CAA6CE,IAAI,CAACiB,SAAL,CAAeT,SAAf,CAA7C,EACH,CACJ,CArBM,CAuBP;AACA,MAAO,IAAMU,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACJ,EAAD,CAAQ,CACpC,GAAIL,CAAAA,MAAM,CAAGV,SAAS,EAAtB,CACA,GAAIS,CAAAA,SAAS,CAAGC,MAAM,CAACU,MAAP,CAAc,SAAAC,UAAU,QAAIA,CAAAA,UAAU,CAACP,SAAX,GAAyBC,EAA7B,EAAxB,CAAhB,CACAZ,YAAY,CAACc,OAAb,CAAqBlB,sBAArB,CAA6CE,IAAI,CAACiB,SAAL,CAAeT,SAAf,CAA7C,EACH,CAJM,CAMP;AACA,MAAO,IAAMa,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CAC7BnB,YAAY,CAACoB,UAAb,CAAwBxB,sBAAxB,EACH,CAFM","sourcesContent":["const localStorageBasketName = \"lecaille-basket\"\n\n//Récupération du panier dans le local storage\nexport const getBasket = () => {\n    if(JSON.parse(localStorage.getItem(localStorageBasketName))) \n    {\n        return JSON.parse(localStorage.getItem(localStorageBasketName))\n    }\n    else {\n        return []\n    }\n}\n//Ajout d'un produit dans le panier\nexport const addToBasket = (product, quantity) =>  {\n    if(parseFloat(quantity) > 0){    \n        let newBasket  = []\n        let basket = getBasket()\n        \n        if(basket){\n            newBasket = basket\n            let productExistsIndex = newBasket.findIndex(basketProduct => basketProduct.productId === product.id)\n            if(productExistsIndex !== -1){\n                newBasket[productExistsIndex].quantity += parseFloat(quantity)\n            }\n            else {\n                newBasket.push({productId: product.id, quantity: parseFloat(quantity)})\n            }\n        }\n        else {\n            newBasket.push({productId: product.id, quantity: parseFloat(quantity)})\n        }\n\n        localStorage.setItem(localStorageBasketName, JSON.stringify(newBasket))\n    }\n}\n\n//Suppression d'un produit du panier\nexport const deleteFromBasket = (id) => {\n    let basket = getBasket()\n    let newBasket = basket.filter(newProduct => newProduct.productId !== id)\n    localStorage.setItem(localStorageBasketName, JSON.stringify(newBasket))\n}\n\n//Suppression du panier\nexport const clearBasket = () => {\n    localStorage.removeItem(localStorageBasketName)\n}\n\n"]},"metadata":{},"sourceType":"module"}