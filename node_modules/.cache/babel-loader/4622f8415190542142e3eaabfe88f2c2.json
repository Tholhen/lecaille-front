{"ast":null,"code":"import axios from \"axios\";\nimport { config } from \"../config\";\nimport tokenConfig from \"../tokenConfig\";\nconst token = localStorage.getItem(tokenConfig.token.name); //Récupération du nombre de variétés de poissons\n\nexport const getFishesCount = () => {\n  return axios.get(config.api_url + \"/products/allfishes/count\").then(response => {\n    return response.data.result[0].fishes_count;\n  }).catch(err => {\n    console.log(err);\n  });\n}; //Récupération du nombre de variétés de crustacés\n\nexport const getCrustaceansCount = () => {\n  return axios.get(config.api_url + \"/products/allcrustaceans/count\").then(response => {\n    return response.data.result[0].crustaceans_count;\n  }).catch(err => {\n    console.log(err);\n  });\n}; //Récupération de tous les produits\n\nexport const getAllProducts = () => {\n  return axios.get(config.api_url + \"/products/all\", {\n    headers: {\n      \"x-access-token\": token\n    }\n  }).then(response => {\n    return response.data.result;\n  }).catch(err => {\n    console.log(err);\n  });\n}; //Récupération d'un produit\n\nexport const getOneProduct = id => {\n  return axios.get(config.api_url + \"/product/\" + id, {\n    headers: {\n      \"x-access-token\": token\n    }\n  }).then(response => {\n    return response.data.result[0];\n  }).catch(err => {\n    console.log(err);\n  });\n}; //Récupération des produits en fonction des catégories choisies\n\nexport const getProductsByCategories = datas => {\n  return axios.post(config.api_url + \"/products/filtered\", datas, {\n    headers: {\n      \"x-access-token\": token\n    }\n  }).then(response => {\n    return response.data.result;\n  }).catch(err => {\n    console.log(err);\n  });\n}; //Récupération des produits en fonction des catégories choisies\n\nexport const getProducts = (datas = {}) => {\n  return axios.post(config.api_url + \"/products/\", datas, {\n    headers: {\n      \"x-access-token\": token\n    }\n  }).then(response => {\n    return response.data.result;\n  }).catch(err => {\n    console.log(err);\n  });\n}; //Enregistrement d'un produit\n\nexport const saveProduct = datas => {\n  return axios.post(config.api_url + \"/product/save\", datas, {\n    headers: {\n      \"x-access-token\": token\n    }\n  }).then(response => {\n    return response;\n  }).catch(err => {\n    console.log(err);\n  });\n}; //Enregistrement de la photo d'un produit\n\nexport const saveProductPict = fileDatas => {\n  let formData = new FormData();\n  formData.append('image', fileDatas);\n  return axios({\n    method: \"post\",\n    url: config.api_url + \"/product/pict\",\n    data: formData,\n    headers: {\n      \"Content-Type\": \"multipart/form-data\",\n      \"x-access-token\": token\n    }\n  }).then(response => {\n    return response;\n  }).catch(err => {\n    console.log(err);\n  });\n}; //Mise à jour d'un produit\n\nexport const updateProduct = (id, datas) => {\n  return axios.put(config.api_url + \"/product/update/\" + id, datas, {\n    headers: {\n      \"x-access-token\": token\n    }\n  }).then(response => {\n    return response;\n  }).catch(err => console.log(err));\n}; //Récupération de toutes les catégories de produit\n\nexport const getAllProductCat = () => {\n  return axios.get(config.api_url + \"/products/categories/all\", {\n    headers: {\n      \"x-access-token\": token\n    }\n  }).then(response => {\n    return response.data.result;\n  }).catch(err => {\n    console.log(err);\n  });\n}; //Suppression d'un produit\n\nexport const deleteProduct = id => {\n  return axios.delete(config.api_url + \"/product/delete/\" + id, {\n    headers: {\n      \"x-access-token\": token\n    }\n  }).then(response => {\n    console.log(response);\n    return response;\n  }).catch(err => {\n    console.log(err);\n  });\n};","map":{"version":3,"sources":["/Users/nicolas/Documents/Travail/Web Developper/3W Academy/Projet/site/lecaille-front/src/api/products.js"],"names":["axios","config","tokenConfig","token","localStorage","getItem","name","getFishesCount","get","api_url","then","response","data","result","fishes_count","catch","err","console","log","getCrustaceansCount","crustaceans_count","getAllProducts","headers","getOneProduct","id","getProductsByCategories","datas","post","getProducts","saveProduct","saveProductPict","fileDatas","formData","FormData","append","method","url","updateProduct","put","getAllProductCat","deleteProduct","delete"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport {config} from \"../config\"\nimport tokenConfig from \"../tokenConfig\"\nconst token = localStorage.getItem(tokenConfig.token.name)\n\n\n//Récupération du nombre de variétés de poissons\nexport const getFishesCount = () => {\n    \n    return axios.get(config.api_url+\"/products/allfishes/count\")\n    .then(response => {\n        return response.data.result[0].fishes_count;\n    })\n    .catch(err => { console.log(err)})\n}\n\n//Récupération du nombre de variétés de crustacés\nexport const getCrustaceansCount = () => {\n    return axios.get(config.api_url+\"/products/allcrustaceans/count\")\n    .then(response => {\n        return response.data.result[0].crustaceans_count\n    })\n    .catch(err => { console.log(err)})\n}\n\n//Récupération de tous les produits\nexport const getAllProducts = () => {\n    return axios.get(config.api_url+\"/products/all\", {headers: {\"x-access-token\": token}})\n    .then(response => {\n        return response.data.result\n    })\n    .catch(err => { console.log(err)})\n}\n\n//Récupération d'un produit\nexport const getOneProduct = (id) => {\n    return axios.get(config.api_url+\"/product/\"+id, {headers: {\"x-access-token\": token}})\n    .then(response => {\n        return response.data.result[0]\n    })\n    .catch(err => {console.log(err)})\n}\n\n//Récupération des produits en fonction des catégories choisies\nexport const getProductsByCategories = (datas) => {\n    \n    return axios.post(config.api_url + \"/products/filtered\", datas, {headers: {\"x-access-token\": token}})\n    .then(response => {\n        return response.data.result\n    })\n    .catch(err => {console.log(err)})\n}\n\n//Récupération des produits en fonction des catégories choisies\nexport const getProducts = (datas = {}) => {\n    \n    return axios.post(config.api_url + \"/products/\", datas, {headers: {\"x-access-token\": token}})\n    .then(response => {\n        return response.data.result\n    })\n    .catch(err => {console.log(err)})\n}\n\n//Enregistrement d'un produit\nexport const saveProduct = (datas) => {\n    return axios.post(config.api_url + \"/product/save\", datas, {headers: {\"x-access-token\": token}})\n    .then(response => {\n        return response\n    })\n    .catch(err => {console.log(err)})\n}\n\n//Enregistrement de la photo d'un produit\nexport const saveProductPict = (fileDatas) => {\n    let formData = new FormData()\n    formData.append('image', fileDatas)\n\n    return axios({method: \"post\",\n                  url: config.api_url + \"/product/pict\",\n                  data: formData,\n                  headers: {\n                      \"Content-Type\":\"multipart/form-data\",\n                      \"x-access-token\":token\n                  }})\n                .then(response => {return response})\n                .catch(err => {console.log(err)})\n}\n\n//Mise à jour d'un produit\nexport const updateProduct = (id, datas) => {\n    return axios.put(config.api_url + \"/product/update/\" + id, datas, {headers: {\"x-access-token\": token}})\n    .then(response => {\n        return response\n    })\n    .catch(err => console.log(err))\n}\n\n//Récupération de toutes les catégories de produit\nexport const getAllProductCat = () => {\n    return axios.get(config.api_url + \"/products/categories/all\", {headers: {\"x-access-token\":token}})\n    .then(response => {\n        return response.data.result\n    })\n    .catch(err => {console.log(err)})\n}\n\n//Suppression d'un produit\nexport const deleteProduct = (id) => {\n    return axios.delete(config.api_url + \"/product/delete/\"+id, {headers: {\"x-access-token\": token}})\n    .then(response => {\n        console.log(response)\n        return response\n    })\n    .catch(err => {console.log(err)})\n}"]},"metadata":{},"sourceType":"module"}