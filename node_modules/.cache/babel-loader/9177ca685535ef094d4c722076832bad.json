{"ast":null,"code":"var _jsxFileName = \"/Users/nicolas/Documents/Travail/Web Developper/3W Academy/Projet/site/lecaille-front/src/containers/shop.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { loadProducts } from \"../actions/product/productAction\";\nimport { config } from \"../config\";\nimport { getAllProducts, getAllProductCat } from \"../api/products\"; //Imports des composants de l'UI externes\n\nimport Header from \"./headers/header\";\nimport HeaderPages from \"./headers/headerPages\";\nimport Footer from \"./footer\"; //Imports depuis la librairie MaterialUI\n\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Button } from '@material-ui/core';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport SearchIcon from '@material-ui/icons/Search';\nimport AddShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Shop = props => {\n  _s();\n\n  const headerTitle = \"Boutique\";\n  const headerBreadcrumbs = [{\n    value: \"Accueil\",\n    link: \"/\"\n  }, {\n    value: \"Boutique\",\n    link: null\n  }];\n  const [userSearchValue, setUserSearchValue] = useState(\"\");\n  const [categories, setCategories] = useState([]);\n  const [filters, setFilters] = useState([]); //Définition des styles MaterialUI\n\n  const useStyles = makeStyles(theme => ({\n    margin: {\n      margin: theme.spacing(1)\n    },\n    addToBasket: {\n      marginTop: theme.spacing(2),\n      width: \"3em\"\n    }\n  }));\n  const classes = useStyles(); //A chargement de la page\n\n  useEffect(() => {\n    //Chargement des produits dans le redux depuis la BDD s'il est vide\n    if (props.products.list.length === 0) {\n      getAllProducts().then(productsDB => {\n        props.loadProducts(productsDB);\n      });\n    }\n\n    getAllProductCat().then(categoriesDB => {\n      setCategories(categoriesDB);\n      categoriesDB.map(category => {\n        setFilters(filters => [...filters, {\n          name: category.label,\n          value: false\n        }]);\n      });\n    });\n  }, []);\n\n  const handleCheck = e => {\n    /*let clickedCheckbox = filters.find(checkbox => checkbox.name === e.target.name)\n    console.log(e.target.name)\n    console.log(\"index\", index)*/\n    //filters[index]['value'] = !filters[index]['value']\n    //console.log(filters)\n    filters[filters.findIndex(checkbox => checkbox.name === e.target.name)].value = !filters[filters.findIndex(checkbox => checkbox.name === e.target.name)].value;\n    console.log(filters);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"root\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(HeaderPages, {\n      headerTitle: headerTitle,\n      headerBreadcrumbs: headerBreadcrumbs\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"shop-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"aside-searchbox\",\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            className: \"footer-home-contact-formcontrol\",\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              type: \"search\",\n              variant: \"filled\",\n              className: classes.margin,\n              label: \"Rechercher un produit\",\n              InputLabelProps: {\n                style: {\n                  color: \"#B4B4B4\"\n                }\n              },\n              InputProps: {\n                style: {\n                  color: \"#12455A\"\n                }\n              },\n              value: userSearchValue,\n              onChange: e => {\n                setUserSearchValue(e.target.value);\n              },\n              InputProps: {\n                startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                  position: \"start\",\n                  children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 49\n                }, this)\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"aside-basket\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"aside-categories\",\n          children: [/*#__PURE__*/_jsxDEV(\"section\", {\n            className: \"aside-categories-header\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Cat\\xE9gories\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n            className: \"aside-categories-content\",\n            children: [console.log(filters), /*#__PURE__*/_jsxDEV(FormGroup, {\n              children: categories.map(category => {\n                return /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                    name: category.label,\n                    color: \"primary\",\n                    onChange: e => {\n                      handleCheck(e);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 50\n                  }, this),\n                  label: category.label\n                }, category.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 44\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"shop-content-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"shop-content-header\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: props.products.list.length + \" résultat(s)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"shop-content\",\n          children: props.products.list.map((product, index) => {\n            return /*#__PURE__*/_jsxDEV(\"article\", {\n              className: \"shop-content-item\",\n              children: /*#__PURE__*/_jsxDEV(\"section\", {\n                className: \"shop-content-item-infos-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"section\", {\n                  className: \"shop-content-item-pict\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: config.product_pict_url + product.pict_url,\n                    alt: \"illustration\" + index\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n                  className: \"shop-content-item-infos-text\",\n                  children: [/*#__PURE__*/_jsxDEV(\"article\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"shop-content-item-category\",\n                      children: product.category\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 149,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"shop-content-item-name\",\n                      children: product.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 150,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 148,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"shop-content-item-desc\",\n                    children: product.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"shop-content-item-price\",\n                    children: [product.price, \" \\u20AC/Kg\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    color: \"primary\",\n                    variant: \"contained\",\n                    className: classes.addToBasket,\n                    component: Link,\n                    to: \"/shop/products/\" + product.id,\n                    children: /*#__PURE__*/_jsxDEV(AddShoppingCartIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 155,\n                      columnNumber: 172\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 37\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 33\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Shop, \"i6RkGP6+bwluW6DEVo5ORIg6W/Q=\", true);\n\n_c = Shop;\n\nconst mapStateToProps = store => {\n  return {\n    products: store.products\n  };\n};\n\nconst mapDispatchToProps = {\n  loadProducts\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Shop);\n\nvar _c;\n\n$RefreshReg$(_c, \"Shop\");","map":{"version":3,"sources":["/Users/nicolas/Documents/Travail/Web Developper/3W Academy/Projet/site/lecaille-front/src/containers/shop.js"],"names":["React","useState","useEffect","Link","connect","loadProducts","config","getAllProducts","getAllProductCat","Header","HeaderPages","Footer","TextField","makeStyles","Button","FormHelperText","FormControl","InputAdornment","SearchIcon","AddShoppingCartIcon","FormGroup","FormControlLabel","Checkbox","Shop","props","headerTitle","headerBreadcrumbs","value","link","userSearchValue","setUserSearchValue","categories","setCategories","filters","setFilters","useStyles","theme","margin","spacing","addToBasket","marginTop","width","classes","products","list","length","then","productsDB","categoriesDB","map","category","name","label","handleCheck","e","findIndex","checkbox","target","console","log","style","color","startAdornment","id","product","index","product_pict_url","pict_url","description","price","mapStateToProps","store","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport {Link} from \"react-router-dom\"\nimport {connect} from \"react-redux\"\nimport {loadProducts} from \"../actions/product/productAction\"\n\nimport {config} from \"../config\"\n\nimport {getAllProducts,getAllProductCat} from \"../api/products\"\n\n//Imports des composants de l'UI externes\nimport Header from \"./headers/header\"\nimport HeaderPages from \"./headers/headerPages\"\nimport Footer from \"./footer\"\n\n//Imports depuis la librairie MaterialUI\nimport TextField from '@material-ui/core/TextField'\nimport { makeStyles } from \"@material-ui/styles\"\nimport { Button } from '@material-ui/core'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport SearchIcon from '@material-ui/icons/Search'\nimport AddShoppingCartIcon from '@material-ui/icons/AddShoppingCart'\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox'\n\nconst Shop = (props) => {\n\n    const headerTitle = \"Boutique\"\n    const headerBreadcrumbs = [{value: \"Accueil\", link:\"/\"},\n                               {value: \"Boutique\", link:null}]\n\n    \n    const [userSearchValue, setUserSearchValue] = useState(\"\")\n    const [categories, setCategories] = useState([])\n\n    const [filters, setFilters] = useState([])\n\n    //Définition des styles MaterialUI\n    const useStyles = makeStyles((theme) => ({\n        margin:{\n            margin: theme.spacing(1),\n        },\n        addToBasket:{\n            marginTop: theme.spacing(2),\n            width:\"3em\"\n        }\n        }));\n        \n    const classes = useStyles();\n\n\n    //A chargement de la page\n    useEffect(() => {\n        //Chargement des produits dans le redux depuis la BDD s'il est vide\n        if(props.products.list.length===0){\n            getAllProducts()\n            .then(productsDB => {\n                props.loadProducts(productsDB)\n            })\n        }\n        \n        getAllProductCat()\n        .then(categoriesDB => {\n            setCategories(categoriesDB)\n            categoriesDB.map((category) => {\n                setFilters(filters => [...filters, {name:category.label, value: false}])\n            })\n           \n        })\n    }, [])\n\n    const handleCheck = (e) => {\n        /*let clickedCheckbox = filters.find(checkbox => checkbox.name === e.target.name)\n        console.log(e.target.name)\n        console.log(\"index\", index)*/\n        //filters[index]['value'] = !filters[index]['value']\n        //console.log(filters)\n        filters[filters.findIndex(checkbox => checkbox.name === e.target.name)].value = !filters[filters.findIndex(checkbox => checkbox.name === e.target.name)].value\n        console.log(filters)\n    } \n\n    return(\n        <section className=\"root\">\n            <Header />\n            <HeaderPages headerTitle={headerTitle} headerBreadcrumbs={headerBreadcrumbs}/>\n            <section className=\"shop-container\">\n                <aside>\n                    <section className=\"aside-searchbox\">\n                        <FormControl className=\"footer-home-contact-formcontrol\">\n                            <TextField type=\"search\"\n                                        variant=\"filled\" \n                                        className={classes.margin}\n                                        label=\"Rechercher un produit\"\n                                        InputLabelProps={{style : {color : \"#B4B4B4\"}}}\n                                        InputProps={{style : {color : \"#12455A\"}}} \n                                        value={userSearchValue}\n                                        onChange={(e) => {setUserSearchValue(e.target.value)}}\n                                        InputProps={{\n                                            startAdornment: (\n                                                <InputAdornment position=\"start\">\n                                                <SearchIcon />\n                                                </InputAdornment>\n                                            ),\n                                            }}/>\n                        </FormControl>\n                    </section>\n                    {/** Panier*/}\n                    <section className=\"aside-basket\">\n                        \n                    </section>\n\n                    {/**Catégories de produits */}\n                    <section className=\"aside-categories\">\n                        <section className=\"aside-categories-header\">\n                            <p>Catégories</p>\n                        </section>\n                        <section className=\"aside-categories-content\">\n                            { console.log(filters)}\n                            <FormGroup>\n                                {categories.map((category) => {\n                                    return(<FormControlLabel \n                                        control={<Checkbox name={category.label} color=\"primary\" onChange={(e) => {handleCheck(e)}}/>}\n                                        label={category.label}\n                                        key={category.id}\n                                    />)\n                                })}\n                            </FormGroup>\n                        </section>\n                    </section>\n                </aside>\n\n                {/** Boutique */}\n                <section className=\"shop-content-container\">\n                    <section className=\"shop-content-header\">\n                        <p>{props.products.list.length + \" résultat(s)\"}</p>\n                    </section>\n                    <section className=\"shop-content\">\n                        {props.products.list.map((product, index) => {\n                            return(\n                                <article key={index} className=\"shop-content-item\">\n                                    <section className=\"shop-content-item-infos-container\">\n                                        <section className=\"shop-content-item-pict\">\n                                            <img src={config.product_pict_url + product.pict_url} alt={\"illustration\"+index}/>\n                                        </section>\n                                        <section className=\"shop-content-item-infos-text\">\n                                            <article>\n                                                <p className=\"shop-content-item-category\">{product.category}</p>\n                                                <p className=\"shop-content-item-name\">{product.name}</p>\n                                            </article>\n                                            \n                                            <p className=\"shop-content-item-desc\">{product.description}</p>\n                                            <p className=\"shop-content-item-price\">{product.price} €/Kg</p>\n                                            <Button color=\"primary\" variant=\"contained\" className={classes.addToBasket} component={Link} to={\"/shop/products/\"+product.id}><AddShoppingCartIcon /></Button>\n                                        </section>\n                                    </section>\n                                    \n                                </article>\n                            )\n                        })}\n                    </section>\n                </section>\n            </section>\n            <Footer />\n        </section>\n    )\n}\n\nconst mapStateToProps = (store) => {\n    return {\n        products: store.products\n    }\n}\n\nconst mapDispatchToProps = {\n    loadProducts\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Shop)"]},"metadata":{},"sourceType":"module"}